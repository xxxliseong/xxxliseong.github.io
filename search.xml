<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Introduction to My Blog</title>
    <url>/2021/04/13/Blog_Inro/</url>
    <content><![CDATA[<p>This is my blog, built at March, 2021, supported by Github &amp; Hexo &amp; NexT Theme.</p>
<p>Accumulation does matter.</p>
<p>This blog would serve as window, where I could share my my points, output fantastic ideas and trace any change inside my mind.</p>
<p>For Now, I would focus more on producing notes and posts from my leanrning, as many as possible.</p>
<p>I hope that what i will write or i have wrriten would make a difference to the world.</p>
]]></content>
  </entry>
  <entry>
    <title>Microarchitecture Part 1</title>
    <url>/2021/06/07/Computer%20architecture/Microarchitecture%20Part%201/</url>
    <content><![CDATA[<p>Referenceï¼š</p>
<ol>
<li><em>Digital Design and Computer Architecture,</em> by David Harris, Sarah Harris</li>
<li><em>Introduction to Computing Systems</em>, by Yale N.Patt, Sanjay J. Patel</li>
</ol>
<h3 id="1-æ¶æ„çŠ¶æ€å’ŒæŒ‡ä»¤é›†"><a href="#1-æ¶æ„çŠ¶æ€å’ŒæŒ‡ä»¤é›†" class="headerlink" title="1. æ¶æ„çŠ¶æ€å’ŒæŒ‡ä»¤é›†"></a>1. æ¶æ„çŠ¶æ€å’ŒæŒ‡ä»¤é›†</h3><p>ä¸€ä¸ªè®¡ç®—æœºæ¶æ„æ˜¯ç”±å®ƒçš„æŒ‡ä»¤é›†(instruction set)å’Œæ¶æ„çŠ¶æ€(architectural stateï¼šThe architectural state is the part of the CPU which holds the state of a process. )ã€‚MIPSå¤„ç†å™¨çš„æ¶æ„çŠ¶æ€åŒ…å«ç¨‹åºè®¡æ•°å™¨å’Œ32ä¸ªå¯„å­˜å™¨ã€‚æŒ‡ä»¤é›†å†³å®šäº†å¾®æ¶æ„çš„ç¡¬ä»¶å±‚é¢çš„å¤æ‚ç¨‹åº¦ã€‚</p>
<h3 id="2-è®¾è®¡æµç¨‹"><a href="#2-è®¾è®¡æµç¨‹" class="headerlink" title="2. è®¾è®¡æµç¨‹"></a>2. è®¾è®¡æµç¨‹</h3><p>å¾®æ¶æ„å¯ä»¥åˆ†æˆä¸¤ä¸ªç›¸äº’ä½œç”¨çš„éƒ¨åˆ†ï¼šæ•°æ®é€šè·¯(datapath)å’Œæ§åˆ¶é€šè·¯(controlpath)ã€‚æ•°æ®é€šè·¯åŒ…æ‹¬äº†å†…å­˜ï¼Œå¯„å­˜å™¨ï¼ŒALUå’Œåˆ†è·¯é€‰æ‹©å™¨ã€‚æ§åˆ¶é€šè·¯åˆ™é€šè¿‡åˆ†è·¯é€‰æ‹©å™¨ï¼ˆMUXï¼‰è¿›è¡Œå¯„å­˜å™¨çš„enableæ§åˆ¶ï¼Œmemoryçš„è¯»å†™ä»¥æ§åˆ¶æ•°æ®é€šè·¯ã€‚</p>
<p>è®¾è®¡çš„è¿‡ç¨‹å¯ä»¥åˆ†æˆå‡ ä¸ªæ­¥éª¤ï¼š</p>
<p>Step 1: æ€è€ƒéœ€è¦çš„ç¡¬ä»¶éœ€è¦åŒ…å«å¤šå°‘çŠ¶æ€ï¼ˆå¤šå°‘çº§ï¼‰å­˜å‚¨å…ƒä»¶ã€‚</p>
<p>Step 2: åœ¨ä¸¤çº§çŠ¶æ€å•å…ƒä¹‹é—´æ’å…¥ç»„åˆé€»è¾‘ç”µè·¯ä»¥è®¡ç®—next stateã€‚</p>
<p>Step 3: é€šå¸¸ä¼šå°†æ¶æ„çš„memoryæ‹†æˆä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†å­˜å‚¨æŒ‡ä»¤ï¼Œå¦ä¸€éƒ¨åˆ†å­˜å‚¨æ•°æ®ã€‚</p>
<h4 id="2-1-Case-studyï¼šMIPS-Micropossessor"><a href="#2-1-Case-studyï¼šMIPS-Micropossessor" class="headerlink" title="2.1 Case studyï¼šMIPS Micropossessor"></a>2.1 Case studyï¼šMIPS Micropossessor</h4><p>å­˜å‚¨å…ƒä»¶ï¼šå­˜å‚¨å…ƒä»¶é€šå¸¸è¿˜éœ€è¦resetä¿¡å·ã€‚</p>
<p>Noteï¼š1. instruction memæ¨¡å—æ— clkï¼Œè¯´æ˜åªè¦åœ°å€Aæ”¹å˜ï¼ŒRDå°±ä¼šåœ¨ä¸€ä¸ªçŸ­æš‚çš„ç»„åˆé€»è¾‘delayåè¯»å‡ºæ–°çš„æŒ‡ä»¤ã€‚2. å…¶ä½™ä¸‰ä¸ªå­˜å‚¨å…ƒä»¶éƒ½æ˜¯åœ¨clkçš„èŠ‚æ‹ä¸‹è¿›è¡Œæ•°æ®åˆ·æ–°ï¼Œä»æ—¶åºçš„è§’åº¦ï¼ˆå¯„å­˜å™¨çš„è¦æ±‚ï¼‰ï¼Œåœ°å€å’Œæ•°æ®éœ€è¦åœ¨æ—¶é’Ÿä¸Šå‡æ²¿æ¥ä¹‹å‰ä¿æŒä¸€ä¸ªsetup timeï¼Œåœ¨æ—¶é’Ÿä¸Šå‡æ²¿æ¥ä¹‹åä¿æŒä¸€ä¸ªholding timeã€‚</p>
<p>The state of the system is changed only at the clock edge. The address, data, and write enable must setup sometime before the clock edge and must remain stable until a hold time after the clock edge.</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Microarchitecture%20Part%201/1.png" alt="components"></p>
<h3 id="3-MIPS-æ¶æ„"><a href="#3-MIPS-æ¶æ„" class="headerlink" title="3  MIPS æ¶æ„"></a>3  MIPS æ¶æ„</h3><p>æˆ‘ä»¬æ¥ä¸‹æ¥ä¼šè®¨è®ºä¸‰ç§MIPSæ¶æ„ï¼šå•å‘¨æœŸï¼Œå¤šå‘¨æœŸå’Œæµæ°´çº¿çš„æ¶æ„ã€‚è¿™ä¸‰ç§ç»“æ„çš„ä¸åŒç‚¹åœ¨äºçŠ¶æ€å­˜å‚¨å•å…ƒçš„è¿æ¥å’Œéæ¶æ„çŠ¶æ€çš„æ•°é‡ä¸ç›¸åŒã€‚</p>
<ol>
<li><p>å•å‘¨æœŸå¾®å¤„ç†å™¨ï¼šå¤„ç†æ•´ä¸€ä¸ªæ•´ç†åœ¨ä¸€ä¸ªå‘¨æœŸã€‚</p>
<p> ç‰¹ç‚¹ï¼šæ§åˆ¶å•å…ƒç®€å•ï¼Œä¸éœ€è¦ä»»ä½•çš„éæ¶æ„çŠ¶æ€ã€‚ä½†å¾®å¤„ç†å™¨çš„å‘¨æœŸæ—¶é—´è¢«æœ€æ…¢çš„æŒ‡ä»¤æ‰€é™åˆ¶ã€‚</p>
</li>
<li><p>å¤šå‘¨æœŸå¾®å¤„ç†å™¨ï¼šå¤„ç†ä¸€æ¡æŒ‡ä»¤ç”¨ä¸€ç³»åˆ—çŸ­å‘¨æœŸã€‚ç®€å•çš„æŒ‡ä»¤ç›¸æ¯”äºå¤æ‚çš„æŒ‡ä»¤æ‰§è¡Œæ›´å°‘çš„å‘¨æœŸã€‚å¤šå‘¨æœŸçš„å¾®å¤„ç†å™¨é€šè¿‡é‡å¤ä½¿ç”¨æ˜‚è´µçš„ç¡¬ä»¶èµ„æºå¦‚åŠ æ³•å™¨å’Œå†…å­˜ï¼Œä»¥å‡å°‘ç¡¬ä»¶costã€‚ï¼ˆadderå¯èƒ½åœ¨å¤šä¸ªå‘¨æœŸä»¥ä¸åŒç”¨é€”è¢«è°ƒç”¨ï¼Œå¤šå‘¨æœŸå¾®å¤„ç†å™¨é€šè¿‡æ·»åŠ å‡ ä¸ªéæ¶æ„å¯„å­˜å™¨æ¥ä¿å­˜ä¸­é—´ç»“æœï¼‰ã€‚</p>
<p> å¤šå‘¨æœŸå¾®å¤„ç†å™¨ä¸€æ¬¡æŒ‡å¤„ç†ä¸€ä¸ªæŒ‡ä»¤ï¼Œä¸€ä¸ªæŒ‡ä»¤ä¼šèŠ±è´¹å¤šä¸ªæ—¶é’Ÿå‘¨æœŸã€‚</p>
</li>
<li><p>æµæ°´çº¿å¾®å¤„ç†å™¨ï¼šå°†æµæ°´çº¿åº”ç”¨åœ¨å•å‘¨æœŸå¾®å¤„ç†å™¨æ¶æ„ä¸Šã€‚</p>
<p> ç‰¹ç‚¹ï¼šå¯ä»¥åŒæ—¶å¤„ç†å¤šæ¡æŒ‡ä»¤ï¼Œæå¤§æé«˜ç³»ç»Ÿçš„ååé‡ã€‚æµæ°´çº¿åˆ™å¯¹æ§åˆ¶é€šè·¯çš„è¦æ±‚æ›´é«˜ï¼Œéœ€è¦æ˜‚è´µçš„é¢å¤–çš„MUXå’Œéæ¶æ„æµæ°´çº¿å¯„å­˜å™¨ã€‚</p>
</li>
</ol>
<h3 id="4-Perfomance-analysis"><a href="#4-Perfomance-analysis" class="headerlink" title="4 Perfomance analysis"></a>4 Perfomance analysis</h3><p>å¾®å¤„ç†å™¨çš„æ€§èƒ½ç”¨æ‰§è¡Œç‰¹ç‚¹ç¨‹åºï¼ˆæˆ–ç¨‹åºé›†ï¼‰æ‰€ä»¥èŠ±è´¹æ—¶é—´è€Œå®šã€‚</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Microarchitecture%20Part%201/2.png" alt="execution time"></p>
<ol>
<li>instructions: å–å†³ä¸å¤„ç†å™¨æ¶æ„å’Œæ‰§è¡Œçš„ç¨‹åºçš„å†…å®¹ã€‚æŸäº›æ¶æ„ä¸‹æœ‰å¤æ‚çš„æŒ‡ä»¤å› è€Œåœ¨æ¯ä¸ªæŒ‡ä»¤å¯ä»¥åšæ›´å¤šçš„äº‹æƒ…ï¼Œä½†æ˜¯æœ‰ç§å¤æ‚çš„å¤„ç†å™¨æ¶æ„æ„å‘³ç€åœ¨ç¡¬ä»¶ä¸Šæ›´åŠ å¤æ‚ï¼Œå¾€å¾€æ‰§è¡Œå¾—æ›´æ…¢ã€‚ï¼ˆåœ¨æ­¤å¤„é»˜è®¤æ‰§è¡ŒåŒä¸€å¥—ç¨‹åºï¼‰</li>
<li>CPIï¼šä¸åŒçš„å¾®å¤„ç†å™¨æ¶æ„æœ‰ä¸åŒCPIsã€‚CPIä¸å¤„ç†å™¨æ¶æ„ï¼Œå­˜å‚¨å™¨æ¶æ„ç›¸å…³ã€‚å­˜å‚¨å™¨çš„æ¶æ„ä¼šå¯¹CPIäº§ç”Ÿæ˜¾è‘—çš„å½±å“ã€‚</li>
<li>Tcï¼šå¤„ç†å™¨èƒ½è¿è¡Œçš„æœ€é«˜é¢‘ç‡å–å†³äºå…³é”®è·¯å¾„ä¸Šçš„delayå’Œå¯„å­˜å™¨æ—¶åºè¦æ±‚ã€‚äº‹å®ä¸Šï¼Œç”±äºå·¥è‰ºèŠ‚ç‚¹çš„è¿›æ­¥ï¼Œå°½ç®¡å¾®æ¶æ„å’Œé€»è¾‘ä¸å˜å¤„ç†å™¨ä¹Ÿèƒ½è¿è¡Œåœ¨æ›´é«˜çš„é¢‘ç‡ä¸Šã€‚</li>
</ol>
]]></content>
      <categories>
        <category>Computer architecture</category>
        <category>Microarchitecture</category>
      </categories>
      <tags>
        <tag>Computer architecture</tag>
        <tag>Microarchitecture</tag>
      </tags>
  </entry>
  <entry>
    <title>Microarchitecture Part 2</title>
    <url>/2021/06/07/Computer%20architecture/Microarchitecture%20Part%202/</url>
    <content><![CDATA[<p>Referenceï¼š</p>
<ol>
<li><em>Digital Design and Computer Architecture,</em> by David Harris, Sarah Harris</li>
<li><em>Introduction to Computing Systems</em>, by Yale N.Patt, Sanjay J. Patel</li>
</ol>
<h2 id="5-Singlecycle-Processor-å•å‘¨æœŸå¤„ç†å™¨"><a href="#5-Singlecycle-Processor-å•å‘¨æœŸå¤„ç†å™¨" class="headerlink" title="5. Singlecycle Processor å•å‘¨æœŸå¤„ç†å™¨"></a>5. Singlecycle Processor å•å‘¨æœŸå¤„ç†å™¨</h2><p>é€šè¿‡è¿æ¥å­˜å‚¨å•å…ƒæ¥å»ºç«‹ç»„åˆé€»è¾‘ç”µè·¯çš„æ•°æ®é€šè·¯ã€‚æ§åˆ¶é€šè·¯ï¼ˆç»„åˆé€»è¾‘ç”µè·¯ï¼‰å¯ä»¥å†³å®šæ§åˆ¶ä¿¡å·ã€‚</p>
<p>Overview: We begin constructing the datapath by connecting the state elements with combinational logic that can execute the various instructions. Control signals determine which specific instruction is carried out by the datapath at any given time.</p>
<h3 id="5-1-Datapath-æ•°æ®é€šè·¯"><a href="#5-1-Datapath-æ•°æ®é€šè·¯" class="headerlink" title="5.1 Datapath æ•°æ®é€šè·¯"></a>5.1 Datapath æ•°æ®é€šè·¯</h3><h4 id="5-1-1-Step-1"><a href="#5-1-1-Step-1" class="headerlink" title="5.1.1 Step 1"></a>5.1.1 Step 1</h4><p>è¯»æŒ‡ä»¤ï¼šPC (Program counter) å¯„å­˜å™¨åŒ…å«éœ€è¦å¤„ç†çš„æŒ‡ä»¤åœ°å€ã€‚</p>
<p>The program counter (PC) register contains the address of the instruction to execute</p>
<p>ï¼ˆç°è‰²è¡¨ç¤ºå…ˆå‰è®¨è®ºè¿‡çš„state elementsï¼Œé»‘è‰²è¡¨ç¤ºæ•°æ®é€šè·¯ï¼‰</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Microarchitecture%20Part%202/1.png" alt="PC"></p>
<p>å¤„ç†å™¨çš„å…·ä½“è¡Œä¸ºå–å†³äºå…·ä½“çš„å–å‡ºçš„æŒ‡ä»¤ï¼Œæˆ‘ä»¬å…ˆè€ƒè™‘lwæŒ‡ä»¤ã€‚</p>
<p>The processorâ€™s actions depend on the specific instruction that was fetched. First we will work out the datapath connections for the lw instruction.</p>
<h4 id="5-1-2-Step-2"><a href="#5-1-2-Step-2" class="headerlink" title="5.1.2 Step 2"></a>5.1.2 Step 2</h4><p>å¯¹äºlwæŒ‡ä»¤ï¼Œè¿™ä¸€æ­¥éœ€è¦åšçš„æ˜¯è¯»base address å’Œ offset addressã€‚baseåœ°å€å¯¹åº”æŒ‡ä»¤ä¸­rsçš„éƒ¨åˆ†ï¼Œå³ Instr25:21çš„éƒ¨åˆ†ã€‚offsetå¯¹åº”Instr15:0ã€‚</p>
<p>For a lw instruction, the next step is to read the source register containing the base address &amp; offset address. This register is specified in the rs field of the instruction, Instr25:21. The offset is stored in the immediate field of the instruction, Instr15:0.</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Microarchitecture%20Part%202/2.png" alt="signæ‹“å±•"></p>
<p>ç”±äºåå…­ä½çš„åœ°å€å¯èƒ½æ˜¯æ­£æ•°æˆ–è€…è´Ÿæ•°ï¼Œå¿…é¡»è¦é€šè¿‡ç¬¦å·æ‹“å±•æˆ32ä½ã€‚</p>
<p>Because the 16-bit immedi- ate might be either positive or negative, it must be sign-extended to 32 bits</p>
<p>ç¬¦å·ä½æ‹“å±•å°±æ˜¯ç®€å•å¾—å°†MSBï¼ˆç¬¦å·ä½ï¼‰åœ¨é«˜ä½å¤åˆ¶æ‹“å±•ã€‚</p>
<p>sign extension simply copies the sign bit (most significant bit) of a short input into all of the upper bits of the longer output.</p>
<h4 id="5-1-3-Step-3"><a href="#5-1-3-Step-3" class="headerlink" title="5.1.3 Step 3"></a>5.1.3 Step 3</h4><p>-Combinational calculation ç»„åˆé€»è¾‘è®¡ç®—</p>
<p>å¤„ç†å™¨éœ€è¦å°†åŸºåœ°å€ï¼ˆä»å¯„å­˜å™¨ä¸­å–ï¼‰å’Œåç§»åœ°å€ï¼ˆæ‹“å±•åï¼‰ç›¸åŠ ã€‚ä¸¤è€…é€šè¿‡ä¸€ä¸ªä¸‰ä½ALUæ§åˆ¶ä¿¡å·çš„æ§åˆ¶ä¸‹ç›¸åŠ ï¼Œäº§ç”ŸALUresultå’Œzeroä¿¡å·ï¼ŒZero æ¥è¡¨ç¤ºç»“æœæ˜¯å¦ä¸º0ã€‚ALUç»“æœé€å…¥æ•°æ®å­˜å‚¨å™¨ä½œä¸ºloadæŒ‡ä»¤çš„æœ€ç»ˆåœ°å€ã€‚</p>
<p>The processor must add the base address to the offset to find the address to read from memory. The 3-bit <em>ALUControl</em> signal specifies the operation. The ALU generates a 32-bit <em>ALUResult</em> and a <em>Zero</em> flag, that indicates whether <em>ALUResult</em> is 0. ALUResult is sent to the data memory as the address for the load instruction</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Microarchitecture%20Part%202/3.png" alt="ç»„åˆé€»è¾‘ç”µè·¯"></p>
<h4 id="5-1-4-Step-4"><a href="#5-1-4-Step-4" class="headerlink" title="5.1.4 Step 4"></a>5.1.4 Step 4</h4><ul>
<li>Mem reading / Mem è¯»å–</li>
</ul>
<p>ALUçš„ç»“æœä¼šä½œä¸ºData memoryçš„åœ°å€ï¼Œç»è¿‡ä¸€ä¸ªæ—¶é’ŸèŠ‚æ‹åæ•°æ®è¾“å‡ºåˆ° ReadData æ€»çº¿å†™å…¥ç›®æ ‡å¯„å­˜å™¨ä¸­ã€‚å…·ä½“ç›®æ ‡å¯„å­˜å™¨å¯¹åº”åœ°å€åœ¨æŒ‡ä»¤çš„rtéƒ¨åˆ†å³ Instr20:16çš„éƒ¨åˆ†ã€‚é»‘çº¿è¡¨ç¤ºçš„æ˜¯åœ°å€/æ•°æ®ã€‚</p>
<p>The data is read from the data memory onto the ReadData bus, then written back to the destination register in the register file at the end of the cycle. The destination register for the lw instruction is specified in the rt field, Instr20:16.</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Microarchitecture%20Part%202/4.png" alt="Memè¯»å–"></p>
<h4 id="5-1-5-Step-5"><a href="#5-1-5-Step-5" class="headerlink" title="5.1.5 Step 5"></a>5.1.5 Step 5</h4><ul>
<li>Write Back å†™å›</li>
</ul>
<p>RegWriteè¿æ¥åœ¨ä½¿èƒ½ä¿¡å·ï¼Œæ•°æ®å’Œåœ°å€å’Œä½¿èƒ½ä¿¡å·å‡†å¤‡å¥½åï¼Œåœ¨ä¸‹ä¸€ä¸ªå‘¨æœŸCLKä¸Šå‡æ²¿æ—¶å€™å†™å…¥registerä¸­ã€‚ä¸Šå›¾è“è‰²éƒ¨åˆ†ã€‚</p>
<p>RegWrite is connected to the port 3 write enable input, WE3.The write takes place on the rising edge of the clock at the end of the cycle.</p>
<p>-Determine address of next instruction for PC //å–ä¸‹ä¸€æ¡æŒ‡ä»¤çš„PCåŠ æ³•</p>
<p>Instructions memæ˜¯byte accessableã€‚MIPSçš„32ä½æŒ‡ä»¤åŒ…å«4ä¸ªbyteã€‚å› è€Œå–ä¸‹ä¸€ä¸ªæŒ‡ä»¤æ—¶å€™éœ€è¦å°†PC+ã€‚</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Microarchitecture%20Part%202/5.png" alt="PCåŠ æ³•"></p>
<p>-Next, let us extend the datapath to also handle the sw instruction.æ¥ä¸‹æ¥æˆ‘ä»¬focusåœ¨sw(store word)æŒ‡ä»¤çš„æ•°æ®é€šè·¯</p>
<p>swä¹Ÿæ˜¯éœ€è¦åŸºåœ°å€+åç§»æ¥ç¡®å®šmemçš„åœ°å€ã€‚ä¸åŒç‚¹åœ¨äºswæ˜¯å†™å…¥memè€Œä¸æ˜¯è¯»å–memã€‚å› è€Œåœ¨ALUè®¡ç®—å‡ºmemåœ°å€åï¼Œå†™å…¥memçš„dataä¹Ÿéœ€è¦å‡†å¤‡å¥½ã€‚å› è€Œåœ¨å–åŸºåœ°å€æ—¶å€™ï¼Œä¹ŸåŒæ—¶å®Œæˆäº†ä»å¯„å­˜å™¨å–æ•°æ®ã€‚å¯„å­˜å™¨å¯¹åº”çš„åœ°å€åœ¨Instr20:16ã€‚ä½¿èƒ½ä¿¡å·ä¸ºMemWriteã€‚</p>
<p>the sw instruction reads a base address from port 1 of the register and sign-extends an immediate. The ALU adds the base address to the immediate to find the memory address. All of these func- tions are already supported by the datapath. The register is specified in the rt field, Instr20:16.  Enable signal is MemWrite.</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Microarchitecture%20Part%202/6.png" alt="åœ°å€å†™å…¥"></p>
<p>-Next, consider extending the datapath to handle the R-type instructions æ¥ä¸‹æ¥æˆ‘ä»¬è€ƒè™‘æ‹“å±•æ•°æ®é€šè·¯åˆ°èƒ½å¤„ç†Rå‹æŒ‡ä»¤ã€‚</p>
<p>åŠ ï¼Œå‡ï¼Œæˆ–ï¼Œæ¯”è¾ƒã€‚è¿™äº›æŒ‡ä»¤éƒ½æ˜¯ä¼šç”¨åˆ°ä»å¯„å­˜å™¨ç»„ä¸­å–æ•°æ®å¹¶ä¸”åœ¨ALUä¸­è®¡ç®—æœ€åå†™å›åˆ°å¯„å­˜å™¨ç»„ä¸­ã€‚ä¸åŒåœ¨äºè¿›è¡Œçš„æ˜¯ä¸åŒALUæ“ä½œã€‚å› æ­¤åªéœ€è¦æ·»åŠ ä¸åŒçš„ALUç¡¬ä»¶èµ„æºï¼Œä½¿ç”¨ä¸åŒALUæ§åˆ¶ä¿¡å·ã€‚</p>
<p>Add, sub, and, or, and slt. All of these instructions read two registers from the register file, perform some ALU operation on them, and write the result back to a third register file. They differ only in the specific ALU operation. Hence, they can all be handled with the same hardware, using different ALUControl signals.</p>
<p>å¢åŠ MUXä½œä¸ºinputçš„é€‰æ‹©å¯ä»¥æœ‰æ•ˆå¢åŠ æ•°æ®é€šè·¯çš„å¤„ç†èƒ½åŠ›ã€‚</p>
<p>This principle of enhancing the datapathâ€™s capabilities by adding a multiplexer to choose inputs from several possibilities is extremely useful</p>
<p>å¦‚ä¸‹ï¼Œå¢åŠ ä¸‰ä¸ªMUXæ¥åŒºåˆ†æ˜¯lw&amp;swè¿˜æ˜¯R-typeæŒ‡ä»¤ã€‚</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Microarchitecture%20Part%202/7.png" alt="MUX&amp;WB"></p>
<p>branch è·³è½¬æŒ‡ä»¤</p>
<p>æ ¸å¿ƒï¼šå¢åŠ ä¸€ä¸ªMUXåšé€‰æ‹©ï¼ŒMUXçš„è¾“å…¥ä¸ºæ­£å¸¸å˜åŒ–çš„PCå’Œbranchåçš„PCï¼ŒALUè¿”å›æ˜¯å¦éœ€è¦è·³è½¬çš„é€‰æ‹©ä¿¡å·ã€‚<br><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Microarchitecture%20Part%202/8.png" alt="åœ°å€åç§»é‡ç›¸åŠ è·å¾—æ–°åœ°å€"></p>
<h3 id="5-2-Control-path-æ§åˆ¶é€šè·¯"><a href="#5-2-Control-path-æ§åˆ¶é€šè·¯" class="headerlink" title="5.2 Control path æ§åˆ¶é€šè·¯"></a>5.2 Control path æ§åˆ¶é€šè·¯</h3><p>æ§åˆ¶ï¼ˆè¯‘ç ï¼‰éƒ¨åˆ†éœ€è¦åœ¨å–æŒ‡å®Œæˆä¹‹åï¼Œå¯¹æŒ‡ä»¤opcodeå’Œfunctï¼ˆR-typeçš„æŒ‡ä»¤çš„opcodeä¸º0ï¼‰è¿›è¡Œè¯‘ç ä»¥å†³å®šåé¢çš„æ•°æ®å¦‚ä½•æ‰§è¡Œã€‚å„ä¸ªå­˜å‚¨å…ƒä»¶çš„ä½¿èƒ½ä¿¡å·ï¼ŒMUXçš„é€‰é€šä¿¡å·éƒ½è¦åœ¨è¯‘ç æ§åˆ¶å•å…ƒçš„æ§åˆ¶ä¸‹æ‰§è¡Œã€‚ALUä½¿èƒ½çš„å®½åº¦ï¼ˆå›¾ä¸­æ˜¯ä¸‰ä½ï¼‰å¦‚æœéœ€è¦æ‰§è¡Œçš„æŒ‡ä»¤é›†è¶Šå¤šï¼ŒALUä½¿èƒ½é€‰é€šä¿¡å·ä¼šæ›´åŠ å¤æ‚ã€‚</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Microarchitecture%20Part%202/9.png" alt="æ§åˆ¶é€šè·¯"></p>
<p>å¯¹äºæ¯ä¸€ä¸ªæŒ‡ä»¤ï¼Œæ§åˆ¶ä¿¡å·çš„çœŸå€¼è¡¨å¯ä»¥åˆ—å‡ºï¼š</p>
<p>ç”±äºswï¼Œbegä¸éœ€è¦å†™å›å› è€Œé€‰é€šä¿¡å·Xè¡¨ç¤ºdont careï¼Œæ–¹ä¾¿ç»„åˆé€»è¾‘ç”µè·¯çš„è®¾è®¡ï¼Œä½¿ç”¨*å¯ä»¥èŠ‚çœç»„åˆé€»è¾‘çš„é¢ç§¯å’Œè§„æ¨¡ã€‚</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Microarchitecture%20Part%202/10.png" alt="æ§åˆ¶ä¿¡å·çœŸå€¼è¡¨"></p>
<h3 id="5-3-Performance-evaluation-æ€§èƒ½çš„è€ƒé‡"><a href="#5-3-Performance-evaluation-æ€§èƒ½çš„è€ƒé‡" class="headerlink" title="5.3 Performance evaluation // æ€§èƒ½çš„è€ƒé‡"></a>5.3 Performance evaluation // æ€§èƒ½çš„è€ƒé‡</h3><p>ä¸€ä¸ªæ‰§è¡Œå‘¨æœŸåªæ‰§è¡Œä¸€ä¸ªå‘¨æœŸï¼Œå› æ­¤CPI=1ã€‚å…³é”®è·¯å¾„éœ€è¦è€ƒè™‘lw load wordå–æŒ‡åˆ°å†™å›æ•´ä¸ªæµç¨‹ã€‚</p>
<p>Each instruction in the single-cycle processor takes one clock cycle, so the CPI is 1. lw instruction provides the critical delay for accessing to the ALU, memory, and register file which are substantially slower than other operations.</p>
<h3 id="5-4-Comments"><a href="#5-4-Comments" class="headerlink" title="5.4 Comments"></a>5.4 Comments</h3><p>å•å‘¨æœŸå¾®æ§åˆ¶å™¨æœ‰ç€ä¸‰ä¸ªä¸»è¦çš„ç¼ºç‚¹ï¼š</p>
<p>The single-cycle processor has three primary weaknesses</p>
<ol>
<li><p>å®ƒè¦æ±‚çš„ä¸€ä¸ªå‘¨æœŸä»¥ç»´æŒæœ€æ…¢çš„ä¸€æ¡æŒ‡ä»¤lwè€Œå…¶ä»–çš„è´¨é‡éƒ½æ¯”å®ƒå¿«ã€‚</p>
<p> First, it requires a clock cycle long enough to support the slowest instruction (lw), even though most instructions are faster.</p>
</li>
<li><p>è¿‡ç¨‹ä¸­ç”¨åˆ°äº†ä¸‰ä¸ªåŠ æ³•å™¨ï¼šALUä¸­å’ŒPCä¸­ä¸¤ä¸ªï¼ŒåŠ æ³•å™¨åœ¨é¢ç§¯ä¸Šæ˜‚è´µï¼Œå°¤å…¶æ˜¯å¯¹äºé«˜é€ŸåŠ æ³•å™¨ã€‚</p>
<p> Second, it requires three adders (one in the ALU and two for the PC logic); adders are relatively expensive circuits, especially if they must be fast.</p>
</li>
<li><p>å®ƒå°†æŒ‡ä»¤å­˜å‚¨å™¨å’Œæ•°æ®å­˜å‚¨å™¨åˆ†ç¦»å¼€ã€‚</p>
<p> Third, it has sepa- rate instruction and data memories, which may not be realistic. Most computers have a single large memory that holds both instructions and data and that can be read and written.</p>
</li>
</ol>
<h2 id="6-Multicycle-Processor-å¤šå‘¨æœŸå¾®å¤„ç†å™¨"><a href="#6-Multicycle-Processor-å¤šå‘¨æœŸå¾®å¤„ç†å™¨" class="headerlink" title="6. Multicycle Processor å¤šå‘¨æœŸå¾®å¤„ç†å™¨"></a>6. Multicycle Processor å¤šå‘¨æœŸå¾®å¤„ç†å™¨</h2><p>å¤šå‘¨æœŸå¤„ç†è§£å†³ä¸Šè¿°çš„é—®é¢˜é€šè¿‡æŠŠæŒ‡ä»¤æ‹†æˆå‡ ä¸ªæ­¥éª¤ã€‚ä¸åŒçš„æŒ‡ä»¤æœ‰ä¸åŒæ•°é‡çš„æ­¥éª¤ï¼Œå¤æ‚çš„æŒ‡ä»¤æ­¥éª¤æ›´å¤šï¼Œå› è€Œéœ€è¦æ›´å¤šæ—¶é—´å®Œæˆã€‚</p>
<p>The multicycle processor addresses these weaknesses by breaking an instruction into multiple shorter steps. Different instructions use different numbers of steps, so simpler instructions can complete faster than more complex ones.</p>
]]></content>
      <categories>
        <category>Computer architecture</category>
        <category>Microarchitecture</category>
      </categories>
      <tags>
        <tag>Computer architecture</tag>
        <tag>Microarchitecture</tag>
      </tags>
  </entry>
  <entry>
    <title>Microarchitecture Part 3</title>
    <url>/2021/06/07/Computer%20architecture/Microarchitecture%20Part%203/</url>
    <content><![CDATA[<p>Referenceï¼š</p>
<ol>
<li><em>Digital Design and Computer Architecture,</em> by David Harris, Sarah Harris</li>
<li><em>Introduction to Computing Systems</em>, by Yale N.Patt, Sanjay J. Patel</li>
</ol>
<h2 id="7-Pipeline-Processor-æµæ°´çº¿å¤„ç†å™¨"><a href="#7-Pipeline-Processor-æµæ°´çº¿å¤„ç†å™¨" class="headerlink" title="7. Pipeline Processor æµæ°´çº¿å¤„ç†å™¨"></a>7. Pipeline Processor æµæ°´çº¿å¤„ç†å™¨</h2><p>æµæ°´çº¿å¤„ç†å™¨å¯ä»¥é€šè¿‡åˆ†å‰²å•å‘¨æœŸå¤„ç†æˆäº”ä¸ªéƒ¨åˆ†ã€‚å› æ­¤æœ€é«˜å¯ä»¥æœ‰äº”æ¡æŒ‡ä»¤ä¸€èµ·æ‰§è¡Œã€‚æµæ°´çº¿å¯ä»¥æœ‰æ•ˆåœ°æé«˜ååé‡ã€‚</p>
<p>We design a pipelined processor by subdividing the single-cycle processor into five pipeline stages. Thus, five instructions can execute simultaneously, one in each stage.</p>
<p>æµæ°´çº¿ä»æ—¶é—´çš„è§’åº¦å……åˆ†åˆ©ç”¨äº†ç¡¬ä»¶èµ„æºã€‚<br><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Microarchitecture%20Part%203/1.png" alt="æµæ°´çº¿æ—¶é—´è§’åº¦ä¸Šç¡¬ä»¶èµ„æº"></p>
<h3 id="7-1-Datapath-æ•°æ®é€šè·¯"><a href="#7-1-Datapath-æ•°æ®é€šè·¯" class="headerlink" title="7.1 Datapath æ•°æ®é€šè·¯"></a>7.1 Datapath æ•°æ®é€šè·¯</h3><p>è¯»å†™å†…å­˜å’Œå¯„å­˜å™¨ç»„å’Œä½¿ç”¨ALUé€šå¸¸æ˜¯å¤„ç†çš„æœ€å¤§delayçš„éƒ¨åˆ†ã€‚äº”çº§æµæ°´çº¿çš„æ¯ä¸€çº§éƒ½æ¶µç›–äº†ä¸€éƒ¨åˆ†è¿™äº›é«˜å»¶è¿Ÿéƒ¨åˆ†ã€‚å…·ä½“å¾—ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†æˆå–æŒ‡IFï¼Œè¯‘ç DEï¼Œè¿ç®—EXï¼Œè¯»å†™å†…å­˜MEMï¼Œå†™å›WBäº”ä¸ªéƒ¨åˆ†ã€‚</p>
<p>Reading and writing the memory and register file and using the ALU typically constitute the biggest delays in the processor. We choose five pipeline stages so that each stage involves exactly one of these slow steps. Specifically, we call the five stages Fetch(IF), Decode(DE), Execute(EX), Memory(MEM), and Writeback(WB).</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Microarchitecture%20Part%203/2.png" alt="é”™è¯¯5-stage"></p>
<p>ç®€å•å¾—å¢åŠ å‡ çº§regåœ¨ç»„åˆé€»è¾‘ç”µè·¯å’Œè¯»å†™å­˜å‚¨å•å…ƒä¹‹é—´ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ï¼Œä¸Šå›¾ä¾¿æœ‰ä¸€å¤„é”™è¯¯ï¼å¯¹äºä¸€äº›æŒ‡ä»¤æ•°æ®/åœ°å€éœ€è¦æå‰åˆ°è¾¾ï¼Œä¼šæœ‰æ—¶åºä¸Šçš„é—®é¢˜</p>
<p>One of the subtle but critical issues in pipelining is that all signals associated with a particular instruction must advance through the pipeline in unison</p>
<p>é”™è¯¯åœ¨äºå¯„å­˜å™¨ç»„çš„å†™é€»è¾‘ä¸Šã€‚å¯„å­˜å™¨åœ¨æµæ°´çº¿ä¸­æ˜¯åœ¨DEä¸­è¯»å–æ•°æ®ï¼ŒWBä¸­å›å†™æ•°æ®ã€‚ç„¶è€Œåœ¨å›å†™çš„åœ°å€åœ¨DEå‡†å¤‡å¥½ï¼Œè€Œä¸æ˜¯WBã€‚</p>
<p>The error is in the register file write logic, The register file is peculiar because it is read in the Decode stage and written in the Writeback stage. And the correct address is already covered by other instructions when it comes to writeback stage.</p>
<p>è¿™ä¸ªé”™è¯¯å¯ä»¥ç®€å•é€šè¿‡ä¸‹å›¾ä¿®æ”¹ï¼Œå°†æ­£ç¡®çš„åœ°å€ä¸€èµ·ä¼ é€’åˆ°WBå†å†™å›ï¼Œå› æ­¤è¿™ä¸ªåœ°å€å’ŒWBå›å†™çš„æ•°æ®æ˜¯é€»è¾‘ä¸ŠåŒæ­¥çš„ã€‚</p>
<p>The WriteReg signal is now pipelined along through the Memory and Writeback stages, so it remains in sync with the rest of the instruction. WriteRegW and ResultW are fed back together to the register file in the Writeback stage.</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Microarchitecture%20Part%203/3.png" alt="æ­£ç¡®5-stage"></p>
<p>äº‹å®ä¸Šï¼Œæµæ°´çº¿çš„è®¾è®¡å…³é”®éš¾ç‚¹åœ¨äºå¤„ç†hazardsï¼Œå¤„ç†æŒ‡ä»¤æ‰§è¡Œçš„é¡ºåºã€‚è¿™ä¸ªéƒ¨åˆ†ä¼šåœ¨ä¸‹é¢å•ç‹¬è®¨è®ºã€‚</p>
<p>A central challenge in pipelined systems is handling hazards that occur when the results of one instruction are needed by a subsequent instruction before the former instruction has completed. This section would be discussed sepearately later.</p>
<h3 id="7-2-Pipelined-Control-æµæ°´çº¿æ§åˆ¶"><a href="#7-2-Pipelined-Control-æµæ°´çº¿æ§åˆ¶" class="headerlink" title="7.2 Pipelined Control æµæ°´çº¿æ§åˆ¶"></a>7.2 Pipelined Control æµæ°´çº¿æ§åˆ¶</h3><p>é€šè¿‡å–æŒ‡åçš„opcodeå’Œfunctè¯‘ç æ§åˆ¶å­˜å‚¨çš„ä½¿èƒ½ä¿¡å·å’ŒMUXçš„é€‰é€šä¿¡å·ã€‚<br><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Microarchitecture%20Part%203/4.png" alt="æ­£ç¡®5-stage"></p>
<h3 id="7-3-Hazard"><a href="#7-3-Hazard" class="headerlink" title="7.3 Hazard"></a>7.3 Hazard</h3><p>åœ¨æµæ°´çº¿ç³»ç»Ÿä¸­ï¼Œå¤šä¸ªæŒ‡ä»¤åœ¨æ—¶é—´ä¸ŠåŒæ—¶è¢«æ‰§è¡Œã€‚å½“ä¸€æ¡æŒ‡ä»¤çš„çš„æ‰§è¡Œä¾èµ–äºå¦ä¸€æ¡æŒ‡ä»¤å®Œæˆçš„ç»“æœï¼Œåˆ™hazardå‘ç”Ÿã€‚</p>
<p>When one instruction is dependent on the results of another that has not yet completed, a hazard occurs.</p>
<p>RAW(Read after write) hazardï¼šä¸‹å›¾è¡¨ç¤ºhazardå‘ç”Ÿæµæ°´çº¿å†™å…¥å¯„å­˜å™¨ç»„ï¼Œå¦‚æœæ¥ä¸‹æ¥çš„ä¸¤æ¡æŒ‡ä»¤è¯»å–å¯„å­˜å™¨æ—¶</p>
<p>RAW(Read after write) hazardï¼šThe diagram shows that hazards may occur in this pipeline when an instruction writes a register and either of the two subsequent instructions read that register.<br><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Microarchitecture%20Part%203/5.png" alt="hazard"></p>
<p>é€šå¸¸æ¥è¯´å¦‚æœé‡åˆ°RAW hazard æœ€ç›´ç™½çš„è§£å†³æ–¹æ³•å°±æ˜¯æµæ°´çº¿åœä¸‹æ¥ç­‰åˆ°hazardè§£å†³ã€‚ä»”ç»†è§‚å¯Ÿä¸Šè¿°æŒ‡ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼šAddåœ¨EXæ—¶å€™åœ¨ALUå·²ç»å®Œæˆäº†è®¡ç®—ï¼Œåœ¨MEMçº§ä¸éœ€è¦ä»»ä½•æ“ä½œã€‚ç©ºç­‰äº†ä¸€ä¸ªå‘¨æœŸæ‰WBã€‚å¯ä»¥é€šè¿‡æå‰å‘å‰ä¼ é€’ALUçš„ç»“æœæ¥æå‰WBï¼Œå‡å°‘æµæ°´çº¿æ”¾æ…¢çš„æ•ˆç‡ã€‚</p>
<p>On closer inspection, however, observe that the sum from the add instruction is computed by the ALU in cycle 3 and is not strictly needed by the and instruction until the ALU uses it in cycle 4. In principle, we should be able to forward the result from one instruction to the next to resolve the RAW hazard without slowing down the pipeline.</p>
<p>Hazards å¯ä»¥åˆ†æˆdata hazard å’Œ control hazardã€‚data hazard å‘ç”Ÿåœ¨æŒ‡ä»¤å°è¯•è¯»å–ä¸€ä¸ªå¯„å­˜å™¨ï¼Œä½†è¯¥å¯„å­˜å™¨è¿˜æœªè¢«å†™å›æ—¶ã€‚control hazard å‘ç”Ÿåœ¨å½“è·³è½¬æŒ‡ä»¤è¿˜æ²¡å†³å®šä¸‹ä¸€æ¡è¯¥è·³è½¬åˆ°é‚£ä¸€æ¡æŒ‡ä»¤æ—¶å€™ï¼Œå–æŒ‡å·²ç»å‘ç”Ÿã€‚</p>
<p>Hazards are classified as data hazards or control hazards. A data hazard occurs when an instruction tries to read a register that has not yet been written back by a previous instruction. A control hazard occurs when the decision of what instruction to fetch next has not been made by the time the fetch takes place.</p>
<p>A    Data Hazard</p>
<p>B)    Control Hazard</p>
<p>C)    Branch Hazard</p>
]]></content>
      <categories>
        <category>Computer architecture</category>
        <category>Microarchitecture</category>
      </categories>
      <tags>
        <tag>Computer architecture</tag>
        <tag>Microarchitecture</tag>
      </tags>
  </entry>
  <entry>
    <title>Von Neumann Model &amp; ISA</title>
    <url>/2021/06/07/Computer%20architecture/Von%20Neumann%20Model%20&amp;%20ISA/</url>
    <content><![CDATA[<p>Referenceï¼š</p>
<ol>
<li><em>Digital Design and Computer Architecture,</em> by David Harris, Sarah Harris-chapter6 </li>
<li><em>Introduction to Computing Systems</em>, by Yale N.Patt, Sanjay J. Patel, chapter4-5</li>
</ol>
<h3 id="1-Overview"><a href="#1-Overview" class="headerlink" title="1. Overview:"></a>1. Overview:</h3><p>æœ¬èŠ‚ä¸»è¦ä»‹ç»ç»å…¸çš„æ¶æ„å’ŒæŒ‡ä»¤é›†çš„æ¦‚å¿µã€‚æ‰€æœ‰çš„ç¨‹åºæœ€åéƒ½ä¼šé€šè¿‡ç¼–è¯‘å™¨ç¼–è¯‘æˆä¸€æ¡æ¡æŒ‡ä»¤æ‰§è¡Œã€‚æŒ‡ä»¤å°±åƒæ˜¯ç‰¹å®šçš„å•è¯ç”¨äºå‘Šè¯‰è®¡ç®—æœºéœ€è¦åšä»€ä¹ˆï¼ŒæŒ‡ä»¤é›†å°±åƒæ˜¯è®¡ç®—æœºèƒ½å¬æ‡‚çš„è¯æ±‡ç±»å‹ã€‚éœ€è¦ä¸»è¦çš„æ˜¯ï¼šå°±ç®—æ˜¯åŸºäºåŒæ ·çš„æ¶æ„å’ŒåŒæ ·çš„æŒ‡ä»¤é›†ï¼Œåº•å±‚ç¡¬ä»¶çš„å®ç°ï¼ˆå¾®æ¶æ„ï¼‰ä¹Ÿå¯ä»¥ä¸åŒã€‚ </p>
<p>æœ€ç»å…¸çš„è®¡ç®—æœºæ¶æ„ï¼šå†¯-è¯ºä¼Šæ›¼ æ¶æ„ï¼š</p>
<p>Von Neumann Model: consisits of 5 parts:</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Von%20Neumann%20Model%20%26%20ISA/Von%20Neumann%20Model.png" alt="Von Neumann Model"></p>
<h4 id="1-1-Memory"><a href="#1-1-Memory" class="headerlink" title="1.1  Memory:"></a>1.1  Memory:</h4><ul>
<li><p>Word-addressable memory:</p>
</li>
<li><p>Byte-addressable memory: (eg. a byte represents pixel)</p>
</li>
<li><p>MAR &amp; MDR å¯„å­˜å™¨ç»„</p>
</li>
<li><p>Temporary storage: Registers(fast)</p>
<p>  Store intermediate results; </p>
<p>  Typically, a register contains 1 word.</p>
<p>  To Read</p>
<p>  Step 1: Load the MAR with the address</p>
<p>  Step 2: Data is placed in MDR</p>
<p>  To Write</p>
<p>  Step 1: Load the MAR with the address and the MDR with the data</p>
<p>  Step 2: Activate Write Enable signal</p>
</li>
</ul>
<h4 id="1-2-Processing-Unit"><a href="#1-2-Processing-Unit" class="headerlink" title="1.2 Processing Unit:"></a>1.2 Processing Unit:</h4><p>Arithmetic and logic unit (ALU)ï¼š ALUèƒ½å¤„ç†çš„é‡åŒ–å¤§å°ï¼ˆsize of quantityï¼‰é€šå¸¸è¢«ç§°ä¸ºè®¡ç®—æœºçš„â€œå­—é•¿â€œï¼ˆword lengthï¼‰ï¼Œè€Œé‡åŒ–çš„åŸºæœ¬å•ä½è¢«ç§°ä¸ºä¸€ä¸ªå­—ï¼ˆwordï¼‰ã€‚é€šå¸¸ALUå‘¨å›´ä¼šé…ç½®å°‘é‡çš„å­˜å‚¨å™¨ï¼Œä»¥ä¾¿å®ƒå­˜æ”¾åœ¨æœ€è¿‘ç”Ÿæˆçš„ä¸­é—´è®¡ç®—ç»“æœã€‚é€šå¸¸æ˜¯å¯„å­˜å™¨ã€‚</p>
<h4 id="1-3-input-amp-output"><a href="#1-3-input-amp-output" class="headerlink" title="1.3  input &amp; output"></a>1.3  input &amp; output</h4><p>They are called peripherals.</p>
<h4 id="1-4-Control-units"><a href="#1-4-Control-units" class="headerlink" title="1.4 Control units"></a>1.4 Control units</h4><p>It conducts the step-by-step process of executing (every instruction in) a program</p>
<p>ç»„æˆï¼šIR(instruction register) &amp;  PC(program counter) &amp; IP(instruction pointer)</p>
<h4 id="1-5-Two-Key-Properties-of-Von-Neumann-Model"><a href="#1-5-Two-Key-Properties-of-Von-Neumann-Model" class="headerlink" title="1.5 Two  Key Properties of Von Neumann Model:"></a>1.5 Two  Key Properties of Von Neumann Model:</h4><ul>
<li><p>Stored program:</p>
<ol>
<li>Instructions stored in a linear memory array</li>
<li>Memory is unified between instructions and data<br>The interpretation of a stored value depends on the control signals</li>
</ol>
</li>
<li><p>Sequential instruction processing:</p>
<ol>
<li>One instruction processed (fetched, executed, completed) at a time</li>
<li>Program counter (instruction pointer) identifies the current instruction</li>
<li>Program counter is advanced sequentially except for control transfer instructions</li>
</ol>
</li>
</ul>
<h3 id="2-instructions-set"><a href="#2-instructions-set" class="headerlink" title="2. instructions set:"></a>2. instructions set:</h3><p><strong>An instruction the most basic unit of computer processing</strong></p>
<ul>
<li>Instructions are words in the language of a computer</li>
<li>Instruction Set Architecture (ISA) is the vocabulary</li>
</ul>
<p>æœºå™¨è¯­è¨€æŒ‡ï¼šè®¡ç®—æœºèƒ½è¯»æ‡‚çš„è¡¨è¾¾å¼ï¼ˆ0s and 1sï¼‰</p>
<p>æ±‡ç¼–è¯­è¨€æŒ‡ï¼šäººå«©è¯»æ‡‚çš„è¡¨è¾¾å¼</p>
<h4 id="2-1-instructions-type"><a href="#2-1-instructions-type" class="headerlink" title="2.1 instructions type:"></a>2.1 instructions type:</h4><ul>
<li><p>Operate instructions</p>
<p>  Execute instructions in the ALU</p>
</li>
<li><p><strong>Data movement instructions</strong></p>
<p>  Read from or write to memory</p>
</li>
<li><p><strong>Control flow instructions</strong>q</p>
<p>  Change the sequence of execution</p>
</li>
</ul>
<h4 id="2-3-Instructions-Cycles-Typical-six-steps"><a href="#2-3-Instructions-Cycles-Typical-six-steps" class="headerlink" title="2.3 Instructions Cycles (Typical six steps)"></a>2.3 Instructions Cycles (Typical six steps)</h4><p>cycles are repreated once previous one is done.</p>
<ol>
<li><p><strong>FETCH</strong></p>
<p> The FETCH phase obtains the instruction from memory and loads it into the instruction register.</p>
<p> Completed description</p>
<p> Step 1: Load the MAR with the contents of the PC, and<br> simultaneously increment the PC</p>
<p> Step 2: Interrogate memory. This results the instruction to be<br> placed in the MDR</p>
<p> Step 3: Load the IR with the contents of the MDR</p>
</li>
<li><p><strong>DECODE</strong> </p>
<p> The DECODE phase identifies the instruction.</p>
</li>
<li><p><strong>EVALUATE ADDRESS</strong></p>
<p> The EVALUATE ADDRESS phase computes the address of the memory location that is needed to process the instruction. è®¡ç®—åŸºåœ°å€+åç§»é‡</p>
</li>
<li><p><strong>FETCH OPERANDS</strong></p>
<p> The FETCH OPERANDS phase obtains the source operands needed to process the instruction.</p>
<p> è¿‡ç¨‹ä¸è¯»å†™memoryçš„æ­¥éª¤ä¸€è‡´ã€‚</p>
</li>
<li><p><strong>EXECUTE</strong></p>
<p> The EXECUTE phase executes the instruction.</p>
</li>
<li><p><strong>STORE RESULT</strong></p>
<p> The STORE RESULT phase writes to the designated destination</p>
</li>
</ol>
<p>Once STORE RESULT is completed, a new instruction cycle starts (with the FETCH phase)</p>
<h3 id="3-instruction-set-architcture-ISA"><a href="#3-instruction-set-architcture-ISA" class="headerlink" title="3 instruction set architcture (ISA)"></a>3 instruction set architcture (ISA)</h3><h4 id="3-0-Overview"><a href="#3-0-Overview" class="headerlink" title="3.0 Overview"></a>3.0 Overview</h4><p>An instruction refers to opeator and opearting values.</p>
<p>An instruction set refers to opcodes data types and addressing modes.</p>
<ol>
<li><p>Opcodeæ“ä½œç ï¼šå¯ä»¥åˆ†ä¸ºè¿ç®—ï¼Œæ•°æ®æ¬ç§»å’Œæ§åˆ¶ä¸‰ç§æŒ‡ä»¤ã€‚</p>
</li>
<li><p>Data typeæ•°æ®ç±»å‹ï¼šISAæ˜¯æ€ä¹ˆç†è§£è¿™äº›è¡¨è¾¾ä¿¡æ¯ã€‚</p>
<p> LC-3åªæ”¯æŒç¬¬äºŒç±»è¡¥ç æ•´æ•°ï¼›MIPSæ”¯æŒç¬¬äºŒç±»è¡¥ç æ•´æ•°ï¼Œæ— ç¬¦å·æ•´æ•°ï¼Œæµ®ç‚¹æ•°ã€‚</p>
<p> <strong>Noteï¼šdata type tradeoffs</strong></p>
<p> A. Benefit of having higer-level data type: easy for programming</p>
<p> B. Disadvantage: more efforts at compiler design (semantic gap would be larger)</p>
</li>
<li><p>Addressing modeå¯»å€æ¨¡å¼ï¼šç¡®å®šä¸€ä¸ªæ“ä½œç¬¦æŒ‡å®šæ•°çš„ä½ç½®ã€‚</p>
<p> æ“ä½œæ•°çš„åœ°å€æ— éå­˜åœ¨äºä¸‰ä¸ªä½ç½®ï¼šæŒ‡ä»¤çš„æŸéƒ¨åˆ†ï¼Œå¯„å­˜å™¨ä¸­ï¼Œå†…å­˜ä¸­ã€‚</p>
<p> A.Immediate or literal (constant)</p>
<ol>
<li>The operand is in some bits of the instruction</li>
</ol>
<p> B. Register</p>
<ol start="2">
<li>The operand is in one of R0 to R7 registers</li>
</ol>
<p> C. Three of them are memory addressing modes</p>
<ol start="3">
<li>PC-relative</li>
<li>Indirect</li>
<li>Base+offset</li>
</ol>
</li>
</ol>
<p>In addition, MIPS has pseudo-direct addressing (for j and jal), but does not have indirect addressing.</p>
<h4 id="3-1-Opeartion-instructions-format-Case-of-MIPS"><a href="#3-1-Opeartion-instructions-format-Case-of-MIPS" class="headerlink" title="3.1 Opeartion instructions format:  Case of MIPS"></a>3.1 Opeartion instructions format:  Case of MIPS</h4><p>MIPSä½¿ç”¨32ä½çš„æŒ‡ä»¤ï¼Œå‡ºäºç®€æ´çš„æŒ‡ä»¤å’Œå¤æ‚åŠŸèƒ½çš„æŠ˜ä¸­ï¼ŒMIPSå®šä¹‰ä¸‰ç§æŒ‡ä»¤ç±»å‹ã€‚æ›´å°‘çš„æŒ‡ä»¤ç±»å‹å¯ä»¥è®©å¯é‡å¤æ€§ï¼ˆregularityï¼‰æ›´é«˜ï¼Œå› æ­¤ç¡¬ä»¶æ›´åŠ ç®€å•ã€‚ï¼ˆä¸ªäººç†è§£ç±»ä¼¼äºï¼šcodingæ—¶ï¼Œè€ƒè™‘åˆ°çš„branchæ›´å°‘ï¼Œç¡¬ä»¶èµ„æºæ›´å°‘ï¼‰ã€‚å„ç±»æŒ‡ä»¤çš„å®šä¹‰ä¹Ÿæ˜¯å»æŒ‡å®Œæˆåè¯‘ç çš„åŸºç¡€ã€‚</p>
<ol>
<li><p>R-type:  Register-type ä½¿ç”¨åˆ°ä¸‰ä¸ªå¯„å­˜å™¨</p>
<p> 32ä½çš„æŒ‡ä»¤åˆ†ä¸ºå…­ä¸ªéƒ¨åˆ†ï¼šopcodeæ“ä½œç¬¦ï¼Œrsæºå¯„å­˜å™¨ï¼Œrtç¬¬äºŒçº§æºå¯„å­˜å™¨ï¼Œrdç›®æ ‡å¯„å­˜å™¨ï¼Œshamt(ç§»ä½)ï¼Œfunctï¼ˆå‡½æ•°ï¼‰æ¯ä¸ªéƒ¨åˆ†éƒ½æœ‰å¤§æ¦‚5åˆ°6ä½bitã€‚<br> <img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Von%20Neumann%20Model%20%26%20ISA/R-tyoe.png" alt="R-type"><br> æ‰€æœ‰R-typeçš„æŒ‡ä»¤çš„opcodeéƒ½æ˜¯0ã€‚functæ˜¯32(100000)è¡¨ç¤ºADDï¼Œ34è¡¨ç¤ºsubã€‚</p>
<p> å…·ä½“å‡½æ•°éœ€è¦æŸ¥è¯¢MIPSå‡½æ•°é™„å½•ã€‚</p>
<p> op: Operation of the instruction (opcode)<br> rs: First register source operand<br> rt: Second register source operand<br> rd: Register destination operand</p>
<p> shamt: Shift amount<br> funct: Function field (selects specific variant of opcode)</p>
</li>
<li><p>I-type:  Immdeiate-typeï¼š I-typeæŒ‡ä»¤ä½¿ç”¨åˆ°ä¸¤ä¸ªå¯„å­˜å™¨æ“ä½œæ•°å’Œä¸€ä¸ªç«‹å³æ•°æ“ä½œæ•°ã€‚</p>
<p> immè¡¨ç¤º16ä½ç«‹å³æ•°ã€‚è¿™ä¸ªéƒ¨åˆ†çš„æ“ä½œåªå†³å®šäºopcodeçš„å†…å®¹ã€‚ä¸Rå‹ä¸åŒï¼Œrså’Œimmæ€»æ˜¯ä½œä¸ºæºæ“ä½œæ•°ï¼Œrtåˆ™æ˜¯ä½œä¸ºç›®æ ‡æ“ä½œæ•°ï¼ˆaddi &amp; lwï¼‰æˆ–è€…æºæ“ä½œæ•°ï¼ˆswï¼‰ã€‚</p>
</li>
</ol>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Von%20Neumann%20Model%20%26%20ISA/I-type.png" alt="I-type"></p>
<p>å‡ ä¸ªä¾‹å­ï¼š</p>
<p> <img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Von%20Neumann%20Model%20%26%20ISA/example.png" alt="examples"></p>
<p> Noteï¼šå½“16ä½çš„ç«‹å³æ•°åŠ åœ¨ä¸€ä¸ªå¯„å­˜å™¨ æ‰€å¯¹åº”çš„32ä¸ºæ•°æ®ä¸Šå¦‚ä½•æ“ä½œï¼š</p>
<p> å¦‚æœæ˜¯æ­£æ•°ï¼Œåˆ™é«˜16ä½å…¨éƒ¨è¡¥0ï¼›å¦‚æœæ˜¯è´Ÿæ•°ï¼Œåˆ™é«˜16ä½å…¨éƒ¨è¡¥1ã€‚</p>
<pre><code>åŸç†ï¼šsign  extension ç¬¦å·ä¸ºæ‹“å±•ï¼Œæ‹“å±•æœ€é«˜ä½ï¼ˆMSBï¼‰ä¸å½±å“åŸæ¥çš„æ•°å€¼ã€‚
</code></pre>
<ol start="3">
<li>J-type: jump-typeï¼š26ä½çš„åœ°å€æ“ä½œæ•°addrï¼Œ6ä½opcodeã€‚</li>
</ol>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Von%20Neumann%20Model%20%26%20ISA/J-type.png" alt="J-type"></p>
<h4 id="3-2-ISA-instruction-set-architecture"><a href="#3-2-ISA-instruction-set-architecture" class="headerlink" title="3.2 ISA (instruction set architecture)"></a>3.2 ISA (instruction set architecture)</h4><p><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Von%20Neumann%20Model%20%26%20ISA/ISA.png" alt="ISA"></p>
<p>ISAæ˜¯ç¡¬ä»¶å’Œè½¯ä»¶çš„æ¡¥æ¢ã€‚trade-off åœ¨ç¡¬ä»¶-è½¯ä»¶çš„å¤æ‚åº¦ã€‚</p>
<p>å¦‚æœå®šä¹‰å¤æ‚çš„ISAï¼ˆIS formatä¸­çš„opcodesé•¿åº¦å˜é•¿ï¼ŒåŠŸèƒ½å¤æ‚ï¼‰å› æ­¤ç¡¬ä»¶è®¾è®¡çš„å¤æ‚åº¦å¢åŠ ï¼Œè½¯ä»¶è®¾è®¡ä¼šæ›´åŠ å®¹æ˜“ã€‚</p>
<p>ï¼ˆISAçš„å¦ä¸€ç§ç†è§£ï¼Œç¼–è¯‘å™¨éœ€è¦åšä»€ä¹ˆï¼šéœ€è¦çŸ¥é“åœ°å€é•¿åº¦ï¼Œéœ€è¦çŸ¥é“å¯„å­˜å™¨ç»„ï¼Œæ“ä½œæ•°æŒ‡ä»¤ç­‰ï¼‰</p>
<h3 id="4-Memory-Map-amp-starting-a-program"><a href="#4-Memory-Map-amp-starting-a-program" class="headerlink" title="4 Memory Map &amp; starting a program"></a>4 Memory Map &amp; starting a program</h3><h4 id="4-1-memory-map"><a href="#4-1-memory-map" class="headerlink" title="4.1 memory map"></a>4.1 memory map</h4><p>MIPSæ¶æ„æŠŠ32ä½çš„åœ°å€ç©ºé—´åˆ†æˆ text segment, global data segment, dynamic data segment, and reserved segments.</p>
<ol>
<li>text segment: å­˜æœºå™¨è¯­è¨€ç¨‹åºã€‚MIPSå¯ä»¥å­˜256MBçš„codeã€‚</li>
<li>global data segmentï¼šå­˜å…¨å±€å˜é‡ã€‚å…¨å±€å˜é‡åœ¨ç¨‹åºå¯åŠ¨æ—¶å°±è¢«é¢„å…ˆå®šä¹‰ï¼ŒMIPSä¸­é¢„ç•™64KBçš„é‡ç”¨äºå­˜å‚¨å…¨å±€å˜é‡ã€‚å…¨å±€å˜é‡ç”¨ $gpä½œä¸ºå…¨å±€æŒ‡é’ˆæ¥è®¿é—®æ•°æ®ï¼ŒæŒ‡é’ˆåœ°å€ä¼šåˆå§‹åŒ–åœ¨10008000çš„ä½ç½®ã€‚</li>
<li>dynamic data segmentï¼šå­˜å †æ ˆå†…å®¹ã€‚è¿™ä¸ªä½ç½®çš„å†…å®¹åœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹åŠ¨æ€çš„åˆ†é…å’Œé‡Šæ”¾ã€‚è¿™ä¸ªå­˜å‚¨å®¹é‡æœ€å¤§çš„ä¸€ä¸ªéƒ¨åˆ†çº¦2GBã€‚è¿™ä¸ªéƒ¨åˆ†ç”¨äºå­˜å‚¨å¯„å­˜å™¨çš„å€¼ï¼Œå®šä¹‰çš„å±€éƒ¨å˜é‡ã€‚</li>
<li>reserved segmentï¼šè¢«æ“ä½œç³»ç»Ÿæ‰€ä½¿ç”¨ï¼Œéƒ¨åˆ†å†…å®¹è¢«ç”¨äºä¸­æ–­å’Œmemory-map I/Oã€‚</li>
</ol>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Von%20Neumann%20Model%20%26%20ISA/memory%20map.png" alt="memory map"></p>
<h4 id="4-1-Translating-and-Starting-a-Program"><a href="#4-1-Translating-and-Starting-a-Program" class="headerlink" title="4.1 Translating and Starting a Program"></a>4.1 Translating and Starting a Program</h4><p><img src="https://github.com/XuLixing/blog_images/raw/main/Computer%20architecture/Von%20Neumann%20Model%20%26%20ISA/compiler%20and%20linker.png" alt="compiler and linker"></p>
]]></content>
      <categories>
        <category>Computer architecture</category>
      </categories>
      <tags>
        <tag>Computer architecture</tag>
      </tags>
  </entry>
  <entry>
    <title>Clock Domain Crossing (CDC) Part 1</title>
    <url>/2021/05/29/CDC/CDC_1/</url>
    <content><![CDATA[<p>Referenceï¼š</p>
<ol>
<li><p>ã€ŠThe Study of Synchronizer Design in Asynchronous Clock Domain Systemã€‹-è’²ç”°</p>
</li>
<li><p>ã€ŠClock Domain Crossing (CDC) Design &amp; Verification Techniques Using SystemVerilogã€‹-Clifford E. Cummings</p>
</li>
</ol>
<h3 id="1-Metastability"><a href="#1-Metastability" class="headerlink" title="1. Metastability:"></a>1. Metastability:</h3><p>äºšç¨³æ€æŒ‡ä¿¡å·åœ¨ä¸€æ®µæ—¶é—´å†…ä¸å†ç¨³å®šåœ¨0æˆ–è€…1ï¼ŒåŸå› åœ¨äºå­˜å‚¨å…ƒä»¶å¹¶éç†æƒ³å…ƒä»¶ï¼Œå¯¹äºå¯„å­˜å™¨ä¿¡å·éœ€è¦åœ¨æ—¶é’Ÿè¾¹æ²¿å‰åä¿æŒä¸å˜ï¼ˆsetup&amp;holdingçº¦æŸï¼‰ï¼Œå¦åˆ™å¯èƒ½äº§ç”Ÿä¸ç¨³å®šçš„è¾“å‡ºã€‚åœ¨å¤šæ—¶é’ŸåŸŸè®¾è®¡ä¸­ï¼Œäºšç¨³æ€ä¸èƒ½è¢«é¿å…ä½†æœ‰å®³æ•ˆåº”å¯ä»¥è¢«ä¸­å’ŒæŠµæ¶ˆã€‚</p>
<h4 id="1-1-Synchronization-failure"><a href="#1-1-Synchronization-failure" class="headerlink" title="1.1 Synchronization failure"></a>1.1 Synchronization failure</h4><p>ä¸‹å›¾å±•ç¤ºä¸¤çº§FFï¼Œä½†æ˜¯ä¸¤çº§çš„CLKä¸åŒæ­¥ï¼Œç¬¬äºŒçº§FFåœ¨ç¬¬ä¸€çº§è¾“å‡ºæœªè¾¾åˆ°ç¨³å®šæ—¶è¿›è¡Œäº†é‡‡æ ·ï¼Œäº§ç”Ÿsynchronization failure. å¦‚ä¸‹å›¾ï¼Œé‡‡æ ·ä¿¡å·æ— æ³•åœ¨bclkçš„ä¸‹ä¸€ä¸ªä¸Šå‡æ²¿ä¿æŒç¨³å®šï¼Œäºšç¨³æ€ä¼šè¢«ä¼ é€’ã€‚</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/CDC/CDC_1/1.png" alt="åŒæ­¥é”™è¯¯"></p>
<p>â€œWhen sampling a changing data signal with a clock â€¦ the order of the events determines the outcome. The smaller the time difference between the events, the longer it takes to determine which came first. When two events occur very close together, the decision process can take longer than the time allotted, and a synchronization failure occurs.â€</p>
<h4 id="1-2-Consideration"><a href="#1-2-Consideration" class="headerlink" title="1.2 Consideration"></a>1.2 Consideration</h4><p>æ¯ä¸€çº§çš„FFéƒ½è¦ä¸€ä¸ªå…·ä½“çš„setup time å’Œ hold timeï¼Œå³è¦æ±‚inputçš„æ•°æ®åœ¨clock ä¸Šå‡æ²¿å‰ä¿æŒä¸€æ®µæ—¶é—´ï¼ˆsetupï¼‰å’Œä¹‹åä¿æŒä¸€æ®µæ—¶é—´ï¼ˆholdï¼‰ã€‚å¯¹äºä¸€ä¸ªå…·ä½“çš„è®¾è®¡è€Œè¨€ï¼Œè¿™ä¸ªæ—¶é—´çª—å£ï¼ˆäºšç¨³æ€çª—å£ï¼‰å¯ä»¥è§†ä¸ºä¸€ä¸ªdesign parameterï¼Œå½“è¿™ä¸ªæ—¶é—´çª—å£è¾“å…¥æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œè¾“å‡ºå°±å¯èƒ½äº§ç”Ÿäºšç¨³æ€ã€‚</p>
<h4 id="1-3-MTBF-Mean-Time-Before-Failure"><a href="#1-3-MTBF-Mean-Time-Before-Failure" class="headerlink" title="1.3 MTBF (Mean Time Before Failure)"></a>1.3 MTBF (Mean Time Before Failure)</h4><p>å¯¹äºå¤§å¤šæ•°åº”ç”¨ï¼Œå°¤å…¶æ˜¯è·¨æ—¶é’ŸåŸŸè®¡ç®—MTBFï¼ˆMean Time Before Failureï¼‰éå¸¸é‡è¦ã€‚FailureæŒ‡çš„æ˜¯ä¿¡å·é€šè¿‡é€šè¿‡ä¸€ä¸ªåŒæ­¥å¯„å­˜å™¨è¿›å…¥äºšç¨³æ€ï¼ŒæŒç»­ä¿æŒäºšç¨³æ€ç›´åˆ°è¢«ä¸‹ä¸€çº§å¯„å­˜å™¨é‡‡æ ·ã€‚MTBFè¡¨ç¤ºä¸¤ä¸ªfailureä¹‹é—´çš„æ—¶é—´ï¼ˆå¸Œæœ›å¤§åˆ°å‡ å¤©ï¼Œå‡ å¹´ï¼‰ã€‚</p>
<p>MTBFè¡¨ç¤ºè§¦å‘å™¨é‡‡æ ·å¤±è´¥çš„æ—¶é—´é—´éš”ã€‚MTBFçš„è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼šMTBFçš„æ•°å€¼è¶Šå¤§è¶Šå¥½ï¼›å¤§MTBFè¡¨æ˜æ½œåœ¨å¤±æ•ˆå‘ç”Ÿåœ¨æ›´é•¿çš„æ—¶é—´èŒƒå›´å†…ï¼›å°çš„MTBFè¡¨æ˜äºšç¨³æ€æ›´å¯èƒ½å‘ç”Ÿã€‚</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/CDC/CDC_1/2.png" alt="MTBFç›¸å…³"></p>
<p>å®šé‡è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š<br><img src="https://github.com/XuLixing/blog_images/raw/main/CDC/CDC_1/3.png" alt="MTBFå®šé‡è®¡ç®—å…¬å¼"><br>å…¶ä¸­ï¼š</p>
<ul>
<li>trÂ = åˆ†è¾¨æ—¶é—´ï¼ˆæ—¶é’Ÿæ²¿å¼€å§‹ï¼‰// resolution time (start from clk edge)</li>
<li>ğœ,ğ‘‡0Â = è§¦å‘å™¨å‚æ•° // parameters releated to FF</li>
<li>ğ‘“Â = é‡‡æ ·æ—¶é’Ÿé¢‘ç‡ // sampling frequency</li>
<li>a = å¼‚æ­¥äº‹ä»¶è§¦å‘é¢‘ç‡ // synchronized events activated frequency</li>
</ul>
<p>å¯¹äºä¸€ä¸ªå…¸å‹çš„ 0.25Âµm å·¥è‰ºçš„ ASIC åº“ä¸­çš„ä¸€ä¸ªè§¦å‘å™¨ï¼Œæˆ‘ä»¬å–å¦‚ä¸‹çš„å‚æ•°ï¼štr = 2.3ns, Ï„ = 0.31ns, T0 = 9.6as, f=100MHZ, a = 10MHZ, MTBF =Â <strong>2.01 days</strong></p>
<h4 id="1-4-Approaches-to-reduce-metastability"><a href="#1-4-Approaches-to-reduce-metastability" class="headerlink" title="1.4 Approaches to reduce metastability"></a>1.4 Approaches to reduce metastability</h4><p>ä»MTBFçš„è§’åº¦ï¼Œå‡å°‘äºšç¨³æ€çš„æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ç§</p>
<ol>
<li><p>ä½¿ç”¨åŒæ­¥å™¨ï¼šä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„2çº§æˆ–è€…å¤šçº§FFæ‰“æ‹çš„æ–¹æ³•;åŒæ­¥å™¨åé¢ä¼šä¸“é—¨è®ºè¿°ï¼›</p>
</li>
<li><p>é™ä½é¢‘ç‡ï¼šå¦‚æœèƒ½æ»¡è¶³åŠŸèƒ½è¦æ±‚ï¼Œé‚£ä¹ˆé™ä½é¢‘ç‡èƒ½å¤Ÿå‡å°‘äºšç¨³æ€çš„äº§ç”Ÿ;</p>
</li>
<li><p>é¿å…å˜åŒ–è¿‡å¿«æˆ–è€…è¿‡äºé¢‘ç¹çš„ä¿¡å·è¿›è¡Œè·¨æ—¶é’Ÿé‡‡æ ·</p>
</li>
<li><p>é‡‡ç”¨æ›´å¿«çš„è§¦å‘å™¨ï¼šæ›´å¿«çš„è§¦å‘å™¨ï¼Œä¹Ÿå¯ä»¥å‡å°‘äºšç¨³æ€çš„äº§ç”Ÿã€‚</p>
</li>
</ol>
<h3 id="2-Synchronizers"><a href="#2-Synchronizers" class="headerlink" title="2. Synchronizers"></a>2. Synchronizers</h3><p>å½“ä¿¡å·è·¨æ—¶é’ŸåŸŸæ—¶å€™ï¼Œæœ€å®¹æ˜“å¿½è§†çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œè¿™ä¸ªä¿¡å·éœ€è¦æ¯ä¸ªæ—¶é’Ÿéƒ½è¢«é‡‡æ ·ï¼Œä¸èƒ½æ¼æ‰æ¯ä¸€ä¸ªå€¼å—ï¼Ÿè¿™æ˜¯æ–°æ‰‹æœ€å®¹æ˜“å¿½è§†çš„ä¸€ä¸ªé—®é¢˜ã€‚å½“è€ƒè™‘åˆ°ä¿¡å·ç©¿è¿‡CDCè¾¹ç•Œæ—¶ï¼Œ</p>
<p>æˆ‘ä»¬è€ƒè™‘ä¸¤ç§æƒ…å†µï¼š</p>
<ul>
<li>æœ‰ä¸€äº›ä¿¡å·ä¸éœ€è¦sample å¯ä»¥miss </li>
</ul>
<p>// some signals are not required to be sampled and could be missed.</p>
<ul>
<li>æ¯ä¸€ä¸ªä¿¡å·éƒ½éœ€è¦è¢«sample å¹¶ä¸”è·¨CDC </li>
</ul>
<p>// every signals are required to be sampled.</p>
<p>åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼šCDCä¿¡å·éƒ½éœ€è¦æŸç§å½¢å¼çš„åŒæ­¥åœ¨æ¥æ”¶æ—¶é’ŸåŸŸå†…<br>In both of these scenarios, the CDC signals will require some form of <strong>synchronization</strong> into the receiving clock domain.</p>
<p>åŒæ­¥å™¨ï¼šæ˜¯é‡‡æ ·ä¸€ä¸ªå¼‚æ­¥æ—¶é’Ÿä¿¡å·ï¼Œå¹¶å°†å…¶è¿‡æ¸¡æˆä¸ä¸€ä¸ªåœ¨æœ¬åœ°æˆ–è€…é‡‡æ ·æ—¶é’Ÿçš„è¾“å‡ºä¿¡å·ã€‚â€œA synchronizer is a device that samples an asynchronous signal and outputs a version of the signal that has transitions synchronized to a local or sample clockâ€</p>
<h4 id="2-1-Two-flip-flop-synchronizer"><a href="#2-1-Two-flip-flop-synchronizer" class="headerlink" title="2.1 Two flip-flop synchronizer"></a>2.1 Two flip-flop synchronizer</h4><p>æœ€ç®€å•å’Œæœ€å¸¸ç”¨çš„åŒæ­¥å™¨ï¼Œæ˜¯ä¸¤çº§FFåŒæ­¥å™¨.</p>
<p>ç¬¬ä¸€çº§FFé‡‡æ ·ä¸€ä¸ªå¼‚æ­¥ä¿¡å·ï¼Œæç«¯æƒ…å†µï¼ˆé‡‡æ ·ä¸€ä¸ªå˜åŒ–ä¿¡å·ï¼‰åˆ™ç¬¬ä¸€çº§FFè¾“å‡ºä¸ºäºšç¨³æ€ï¼›ä¿æŒä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸï¼ˆäºšç¨³æ€recoverï¼‰ï¼Œä¿¡å·è¢«é‡æ–°é‡‡æ ·ä¸ºæœ‰æ•ˆçš„è¾“å‡ºã€‚</p>
<p>Noteï¼šåŒå¯„å­˜å™¨å¹¶ä¸èƒ½æ¶ˆé™¤äºšç¨³æ€ï¼Œå®ƒåªæ˜¯å‡å°‘å‡ºç°äºšç¨³æ€çš„æ¦‚ç‡ï¼Œå‡å°‘åˆ°ä¸€ä¸ªå¯ä»¥å‡ ä¹å¿½ç•¥ä¸è®¡çš„ç¨‹åº¦ã€‚<br><img src="https://github.com/XuLixing/blog_images/raw/main/CDC/CDC_1/4.png" alt="ä¸¤çº§åŒæ­¥å™¨"></p>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ï¼Œéœ€è¦ä¿è¯çš„è¿™ä¸ªä¿æŒæ—¶é—´ï¼Œå¦åˆ™ä¼šäº§ç”Ÿsynchronization failureã€‚ è¿™ä¸ªæ—¶é—´ä¸è¾“å…¥ä¿¡å·çš„é¢‘ç‡å’ŒåŒæ­¥FFçš„é¢‘ç‡æœ‰å…³ã€‚è¿™ä¸ªæ—¶é—´ä¸ºMTBFã€‚</p>
<p>å¯¹äºå¤§å¤šæ•°åŒæ­¥åº”ç”¨ï¼Œä¸¤çº§FFåŒæ­¥å™¨å·²ç»è¶³å¤Ÿç§»é™¤æ‰€æœ‰äºšç¨³æ€ã€‚</p>
<h4 id="2-3-Three-flip-flop-synchronizer"><a href="#2-3-Three-flip-flop-synchronizer" class="headerlink" title="2.3 Three flip-flop synchronizer"></a>2.3 Three flip-flop synchronizer</h4><p>å¯¹äºä¸€äº›æå…¶é«˜é€Ÿçš„åº”ç”¨ï¼ŒMTBFåœ¨ä¸¤çº§åŒæ­¥å™¨ä¹‹é—´å¤ªçŸ­ã€‚å› æ­¤å¯ä»¥æ·»åŠ ç¬¬ä¸‰çº§FFä»¥å¢åŠ MTBFåˆ°ä¸€ä¸ªæ»¡æ„çš„æ—¶é—´èŒƒå›´ã€‚<br><img src="https://github.com/XuLixing/blog_images/raw/main/CDC/CDC_1/5.png" alt="ä¸‰çº§åŒæ­¥å™¨"></p>
]]></content>
      <categories>
        <category>VLSI</category>
        <category>CDC</category>
      </categories>
      <tags>
        <tag>VLSI</tag>
        <tag>CDC</tag>
      </tags>
  </entry>
  <entry>
    <title>Efficient FSM coding in verilog</title>
    <url>/2021/04/05/FSM_coding/Notes_FSM_coding/</url>
    <content><![CDATA[<p>Learning Source:ã€ŠThe Fundamentals of Efficient Synthesizable Finite State Machine Design using NC-Verilog and BuildGatesã€‹</p>
<h3 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract:"></a>Abstract:</h3><ol>
<li>Important techniques related to one and two always block styles to code FSMs with combinational outputs are given to show why using a two always block style is preferred. </li>
<li>An efficient Verilog-unique onehot FSM coding style is also shown. </li>
<li>Reasons and techniques for registering FSM outputs are also detailed.</li>
</ol>
<h3 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction:"></a>1. Introduction:</h3><h4 id="Note-åˆ©ç”¨Alwaysè¯­å¥ç¼–å†™ç»„åˆé€»è¾‘ç”µè·¯å’Œæ—¶åºé€»è¾‘ç”µè·¯ã€‚"><a href="#Note-åˆ©ç”¨Alwaysè¯­å¥ç¼–å†™ç»„åˆé€»è¾‘ç”µè·¯å’Œæ—¶åºé€»è¾‘ç”µè·¯ã€‚" class="headerlink" title="Note: åˆ©ç”¨Alwaysè¯­å¥ç¼–å†™ç»„åˆé€»è¾‘ç”µè·¯å’Œæ—¶åºé€»è¾‘ç”µè·¯ã€‚"></a>Note: åˆ©ç”¨Alwaysè¯­å¥ç¼–å†™ç»„åˆé€»è¾‘ç”µè·¯å’Œæ—¶åºé€»è¾‘ç”µè·¯ã€‚</h4><ol>
<li><p>ç»„åˆé€»è¾‘ç”µè·¯çš„always blockç¼–å†™ä¸¥æ ¼ï¼ˆé˜»å¡èµ‹å€¼ï¼‰ï¼Œæ•æ„Ÿåˆ—è¡¨å†…æ²¡æœ‰posedge or negedgeè¿™äº›verilog keywordï¼</p>
<blockquote>
<p>Combinational always blocks are always blocks that are used to code combinational logic functionality and are strictly coded using blocking assignmentsã€‚</p>
</blockquote>
</li>
<li><p>æ—¶åºç”µè·¯always blockï¼ˆéé˜»å¡èµ‹å€¼ï¼‰ï¼Œæœ‰edge-based sensitivity listã€‚</p>
</li>
</ol>
<h3 id="2-Mearly-and-moore-FSM"><a href="#2-Mearly-and-moore-FSM" class="headerlink" title="2. Mearly and moore FSM"></a>2. Mearly and moore FSM</h3><p><img src="https://github.com/XuLixing/blog_images/raw/main/Learning_Notes/FSM/images/1.%20FSM%E7%B1%BB%E5%9E%8B.png" alt="Figure 1.FSM_type"></p>
<h3 id="3-Binary-or-Onehot-Encoded"><a href="#3-Binary-or-Onehot-Encoded" class="headerlink" title="3. Binary or Onehot Encoded?"></a>3. Binary or Onehot Encoded?</h3><ul>
<li><p>Binary-encode FSM éœ€è¦çš„ä½å®½ï¼ˆFFçš„æ•°é‡ï¼‰ä»…æ˜¯éœ€è¦çŠ¶æ€çš„log2ï¼ˆ#statesï¼‰</p>
<p>  ä¼˜ç‚¹ï¼šä½¿ç”¨è§¦å‘å™¨çš„ä¸ªæ•°è¾ƒå°‘ï¼ŒèŠ‚çœèµ„æºã€‚<br>  ç¼ºç‚¹ï¼šçŠ¶æ€è·³è½¬æ—¶å¯èƒ½æœ‰å¤šä¸ªbité”™è¯¯ï¼Œå¼•èµ·æ¯›åˆºï¼Œé€ æˆé€»è¾‘é”™è¯¯ã€‚</p>
</li>
<li><p>One-hot encode FSM éœ€è¦çš„ä½å®½ï¼ˆFFçš„æ•°é‡ï¼‰ä¸ºéœ€è¦çš„çŠ¶æ€çš„æ•°é‡ã€‚</p>
<p>  ç¼ºç‚¹ï¼šå¢åŠ äº†è§¦å‘å™¨ä¸ªæ•°ï¼Œå¯„å­˜å™¨èµ„æºåˆ©ç”¨æ•ˆç‡ä½ã€‚<br>  ä¼˜ç‚¹ï¼šä½†æ˜¯æ–¹ä¾¿è¯‘ç ï¼Œæœ‰æ•ˆåŒ–ç®€ç»„åˆé€»è¾‘ç”µè·¯</p>
</li>
</ul>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Learning_Notes/FSM/images/2.%20code%20style.png" alt="Figure 2.ç¼–ç æ–¹å¼"></p>
<p>Notesï¼š</p>
<ol>
<li><p>FPGAæ¨èä½¿ç”¨one-hotç¼–ç å› ä¸ºå…¶å†…ç½®æœ‰è¶³å¤Ÿæ•°é‡çš„FFï¼Œä½¿ç”¨one-hotç¼–ç å¯ä»¥èŠ‚çœå¤æ‚çš„è¯‘ç ç»„åˆé€»è¾‘ç”µè·¯è®¾è®¡ã€‚</p>
<blockquote>
<p>FPGA vendors frequently recommend using a onehot state encoding style because flip-flops are plentiful in an FPGA and the combinational logic required to implement a onehot FSM design is typically smaller than most binary encoding styles.</p>
</blockquote>
</li>
<li><p>FPGAçš„æ€§èƒ½ä¸FPGAä¸­ç»„åˆé€»è¾‘ç”µè·¯çš„sizeçš„å†³å®šã€‚å®ç°åŒæ ·çš„åŠŸèƒ½ï¼Œonehotç çš„ç”¨åˆ°çš„ç»„åˆé€»è¾‘ç”µè·¯é¢ç§¯æ›´å°ï¼Œå¯ä»¥run fasterã€‚</p>
<blockquote>
<p>Since FPGA performance is typically related to the combinational logic size of the FPGA design, onehot FSMs typically run faster than a binary encoded FSM with larger combinational logic blocks</p>
</blockquote>
</li>
</ol>
<h3 id="4-FSM-Coding-Goalsï¼š"><a href="#4-FSM-Coding-Goalsï¼š" class="headerlink" title="4. FSM Coding Goalsï¼š"></a>4. FSM Coding Goalsï¼š</h3><ul>
<li>The FSM coding style should be easily modified to change state encodings and FSM styles.</li>
<li>The coding style should be compact.</li>
<li>The coding style should be easy to code and understand.</li>
<li>The coding style should facilitate debugging.</li>
<li>The coding style should yield efficient synthesis results.</li>
</ul>
<h3 id="5-Two-Always-Block-FSM-style-Good"><a href="#5-Two-Always-Block-FSM-style-Good" class="headerlink" title="5. Two Always Block FSM style (Good)"></a>5. Two Always Block FSM style (Good)</h3><h4 id="5-1-Exapmle-Code"><a href="#5-1-Exapmle-Code" class="headerlink" title="5.1 Exapmle_Code"></a>5.1 Exapmle_Code</h4><p>ç”¨ä¸¤ä¸ªalways blockç¼–å†™ï¼Œä¸€ä¸ªå†™æ—¶åºé€»è¾‘ï¼Œä¸€ä¸ªå†™ç»„åˆé€»è¾‘ã€‚</p>
<p>Noteï¼š</p>
<ol>
<li>æ—¶åºalways blockå®šä¹‰æ—¶åºç”µè·¯ï¼ˆçŠ¶æ€è½¬ç§»ï¼‰ï¼Œéé˜»å¡èµ‹å€¼ã€‚</li>
<li>ç»„åˆalways blockå®šä¹‰ç»„åˆé€»è¾‘ç”µè·¯ï¼Œæ•æ„Ÿåˆ—è¡¨ä¸ºè¾“å…¥ï¼Œæ²¡æœ‰æ—¶é’Ÿclkå’Œå¤ä½ä¿¡å·ï¼Œä½¿ç”¨é˜»å¡èµ‹å€¼ã€‚</li>
</ol>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Learning_Notes/FSM/images/3.4states_FSM.png" alt="Figure 3.Four-states FSM"></p>
<p>Important notes:</p>
<ol>
<li><p>Parameter å®šä¹‰stateç±»å‹ï¼ˆbinaryè¿˜æ˜¯onehotï¼‰å’Œåç§°ï¼ˆstateçš„åå­—ï¼‰ï¼šæ–¹ä¾¿ä¿®æ”¹ï¼Œå¦‚æœéœ€è¦æ¢coding styleçš„è¯å°±åªéœ€è¦æ›´æ”¹parameterçš„å®šä¹‰å°±è¡Œã€‚</p>
</li>
<li><p>åœ¨è¾“å‡ºèµ‹å€¼ä¹‹åï¼Œå†ç»™state or next stateèµ‹å€¼ã€‚</p>
<blockquote>
<p>Declarations are made for state and next (next state) after the parameter assignments.</p>
</blockquote>
</li>
<li><p>æ—¶åºé€»è¾‘ç”¨éé˜»å¡èµ‹å€¼ã€‚</p>
<blockquote>
<p>The sequential always block is coded using nonblocking assignments.</p>
</blockquote>
</li>
<li><p>ç»„åˆé€»è¾‘ç”µè·¯çš„æ•æ„Ÿåˆ—è¡¨æœ‰stateï¼Œæ‰€æœ‰ç»„åˆé€»è¾‘inputå˜é‡ã€‚</p>
</li>
<li><p>ç»„åˆé€»è¾‘ç”µè·¯always blockä¸­ç”¨é˜»å¡èµ‹å€¼ã€‚</p>
</li>
<li><p><strong>The combinational always block has a default next state assignment at the top of the always block</strong></p>
</li>
<li><p>è¾“å‡ºåœ¨caseè¯­å¥å‰è¢«èµ‹åˆå€¼ï¼ˆdefault valueï¼‰ã€‚ä¼˜ç‚¹åœ¨äºï¼š</p>
<p> A. caseè¯­å¥ä¹‹åä¸éœ€è¦å†å†™defaultçš„æƒ…å†µï¼Œç”µè·¯ä¸Šæ¶ˆé™¤äº†äº§ç”Ÿé”å­˜å™¨çš„å¯èƒ½ã€‚<br> B. æ¯ä¸€ä¸ªcaseä¸­åªåœ¨è¾“å‡ºå˜åŒ–èµ‹æ–°çš„å€¼ã€‚ä»ä»£ç ä¸Šï¼Œæ›´å®¹æ˜“è§‚å¯Ÿåˆ°è¾“å‡ºçš„å˜åŒ–ï¼Œä»£ç å¯è¯»æ€§å¢åŠ ã€‚</p>
<blockquote>
<p>Default output assignments are made before coding the <strong>case</strong> statement (this eliminates latches and reduces the amount of code required to code the rest of the outputs in the <strong>case</strong> statement and highlights in the <strong>case</strong> statement exactly in which states the individual output(s) change)</p>
</blockquote>
</li>
<li><p>ç»„åˆé€»è¾‘always blockå†…çš„if-else è¯­å¥æ•°é‡å’Œ çŠ¶æ€è½¬ç§»å›¾STDçš„è½¬ç§»å¼§çº¿æ•°é‡ä¸€è‡´ã€‚ï¼ˆè¾“å…¥çš„ !rstä¸ç®—ï¼‰</p>
<blockquote>
<p>The number of transition arcs between states in the FSM state diagram should equal the number of <strong>if</strong>-<strong>else</strong>-type statements in the combinational always block.</p>
</blockquote>
</li>
<li><p>æ–¹ä¾¿æŸ¥çœ‹ï¼Œnextçš„èµ‹å€¼éƒ½æ”¾åœ¨åŒä¸€åˆ—ã€‚</p>
</li>
</ol>
<h4 id="5-2-Fear-of-transitions-to-erroneous-states"><a href="#5-2-Fear-of-transitions-to-erroneous-states" class="headerlink" title="5.2 Fear of transitions to erroneous states"></a>5.2 Fear of transitions to erroneous states</h4><p>ä¸€èˆ¬æ¥è¯´ï¼Œä¸ä¼šå‘ç”Ÿã€‚</p>
<p>åœ¨ä¸€äº›æç«¯æƒ…å†µä¸‹ï¼Œç³»ç»Ÿè¦æ±‚æ›´é«˜çš„robertnessï¼šå¦‚alphaç²’å­ï¼Œé«˜èƒ½ç²’å­ç­‰ã€‚ç³»ç»Ÿçš„çŠ¶æ€å¯èƒ½è¿›å…¥åˆ°ä¸€ä¸ªé”™è¯¯çŠ¶æ€ï¼ä½†æ˜¯è®©state/next stateå¯„å­˜å™¨å›åˆ°æƒ³è¦çš„çŠ¶æ€å¹¶ä¸å¤Ÿï¼è¿™æ˜¯å› ä¸ºå¯èƒ½ï¼Œå‰©ä¸‹éƒ¨åˆ†çš„ç¡¬ä»¶å·²ç»è¿›å…¥å˜åŒ–åçš„stateçš„çŠ¶æ€ã€‚</p>
<p>Possible bad situationï¼šç³»ç»Ÿå¯èƒ½å› æ­¤è¿›å…¥ä¸€ä¸ªlockupçŠ¶æ€ï¼Œå› ä¸ºç¡¬ä»¶æ­£åœ¨ç­‰å¾…ä¸€ä¸ªä¸å¯èƒ½åˆ°æ¥çš„çŠ¶æ€è½¬ç§»ä¿¡å·ã€‚ï¼ˆå¦‚ç³»ç»Ÿåœ¨å¯åŠ¨åï¼Œç”±äºé«˜èƒ½ç²’å­è½°å‡»ï¼Œåˆšå¥½å›åˆ°å¯åŠ¨stateï¼Œä½†æ˜¯å¤–ç•Œä¸ä¼šå†ç»™å¯åŠ¨çš„æ¿€åŠ±ï¼Œå› è€Œç³»ç»Ÿä¼šå¡åœ¨æ­¤çŠ¶æ€ä¸åŠ¨ï¼‰</p>
<p>è§£å†³åŠæ³•ï¼šéœ€è¦ä¸€ç§è®¾è®¡ï¼Œå½“stateå¯„å­˜å™¨è¿›å…¥åˆ°é”™è¯¯çŠ¶æ€æ—¶ï¼šä¸ä»…ä¸‹ä¸€ä¸ªæ—¶åˆ»ï¼Œstateèƒ½è‡ªåŠ¨å›åˆ°æ­£å¸¸çŠ¶æ€ï¼Œå‰©ä¸‹çš„çŠ¶æ€ä¹Ÿä¼šåœ¨ä¸‹ä¸€ä¸ªçŠ¶æ€è¿‡æ¸¡æ—¶å€™resetï¼</p>
<h4 id="5-3-Making-default-next-equal-all-Xâ€™s-assignment"><a href="#5-3-Making-default-next-equal-all-Xâ€™s-assignment" class="headerlink" title="5.3 Making default next equal all Xâ€™s assignment"></a>5.3 Making default next equal all Xâ€™s assignment</h4><p>åœ¨ç»„åˆé€»è¾‘alwaysæ•æ„Ÿåˆ—è¡¨åï¼Œç›´æ¥å¯¹nextè¿›è¡Œèµ‹åˆå€¼Xâ€˜sï¼Œnextä¼šåœ¨ä¹‹åçš„caseä¸­è¢«èµ‹åˆå€¼ã€‚</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Learning_Notes/FSM/images/3.4states_FSM.png" alt="Figure 4.Four-states FSM"></p>
<p>å¦‚æœæˆ‘ä»¬ç»™å…¨Xç»™nextï¼Œå¦‚æœæŸä¸€çŠ¶æ€è½¬ç§»å¯èƒ½æ²¡æœ‰åœ¨caseè¯­å¥ä¸­è¢«æè¿°åˆ°ï¼Œstateçš„é¢„ç»¼åˆä»¿çœŸæ¨¡å‹ä¼šäº§ç”Ÿä¸€ä¸ªæœªçŸ¥çš„è¾“å‡ºçš„çŠ¶æ€ã€‚è¿™æ˜¯ä¸€ä¸ªæœ‰æ•ˆdebug FSMè®¾è®¡çš„æ–¹æ³•ã€‚Xåœ¨ç»¼åˆå·¥å…·é‡Œè®¤ä¸ºæ˜¯donâ€™t care. </p>
<blockquote>
<p>By making a default next state assignment of Xâ€™s, pre-synthesis simulation models will cause the state machine outputs to go unknown if not all state transitions have been explicitly assigned in the case statement. This is a useful technique to debug state machine designs, plus the Xâ€™s will be treated as â€œdonâ€™t caresâ€ by the synthesis tool.</p>
</blockquote>
<p><strong>ä¸ç†è§£çš„é—®é¢˜ï¼šå¦‚æœç»„åˆé€»è¾‘è¿‡äºå¤æ‚ï¼Ÿï¼Ÿï¼Ÿï¼Ÿå¦‚pcpu</strong></p>
<h3 id="6-One-Always-Block-FSM-style-Avoid"><a href="#6-One-Always-Block-FSM-style-Avoid" class="headerlink" title="6 One Always Block FSM style (Avoid)"></a>6 One Always Block FSM style (Avoid)</h3><h3 id="7-Onehot-FSM-Coding-style-Good-style"><a href="#7-Onehot-FSM-Coding-style-Good-style" class="headerlink" title="7 Onehot FSM Coding style. (Good style)"></a>7 Onehot FSM Coding style. (Good style)</h3><p>Onehot ç¼–ç ä¸äºŒè¿›åˆ¶ç¼–ç çš„æ ¸å¿ƒåœ¨äºparameterä¸å†ä»£è¡¨state encodingï¼Œè€Œæ˜¯ç”¨æ¥è¡¨ç¤ºstateå‘é‡çš„indexã€‚caseçš„è¯­å¥çš„æ¯”è¾ƒåˆ™ç®€åŒ–æˆå•ä¸ªbitçš„æ¯”è¾ƒã€‚</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Learning_Notes/FSM/images/4.%20onehot_coding.png" alt="Figure 5.Onehot FSM"></p>
<p>Onehot ç¼–ç ä¸äºŒè¿›åˆ¶ç¼–ç çš„æ ¸å¿ƒåœ¨äºparameterä¸å†ä»£è¡¨state encodingï¼Œè€Œæ˜¯ç”¨æ¥è¡¨ç¤ºstateå‘é‡çš„indexã€‚caseçš„è¯­å¥çš„æ¯”è¾ƒåˆ™ç®€åŒ–æˆå•ä¸ªbitçš„æ¯”è¾ƒã€‚</p>
<p>åœ¨caseè¯­å¥ä¸‹ï¼Œæ¯”è¾ƒè¿›å…¥åˆ†æ”¯æ—¶ï¼Œæœ¬èº«å¸¦æœ‰ä¼˜å…ˆçº§ï¼ˆå³ä»ç¬¬ä¸€ç§æƒ…å†µåˆ°defaultï¼‰ï¼Œå› è€Œè¿™æœ¬èº«ç»¼åˆå™¨ä¼šç»¼åˆä¸€ä¸ªç»„åˆé€»è¾‘çš„ä¼˜å…ˆçº§ç¼–ç å™¨ç”µè·¯ã€‚ç”±äºonehotç¼–ç æœ¬èº«ä¸å­˜åœ¨ä¼˜å…ˆçº§ï¼Œæ¯ä¸€ä¸ªcaseåœ¨é€»è¾‘ä¸Šæ˜¯å¹¶è¡Œï¼Œè¿™æ˜¯ä½œè€…å”¯ä¸€æ¨èä½¿ç”¨full_case å’Œ parallel_case è¯­å¥ï¼ˆå‘Šè¯‰ä»¿çœŸå™¨ 1. å·²ç»ç©·å°½äº†æ‰€æœ‰caseï¼Œä¸è¦ç”Ÿæˆé”å­˜å™¨ 2.æ¶ˆé™¤ä¼˜å…ˆçº§ç¼–ç å™¨ç”µè·¯ï¼‰</p>
<p>This is the only coding style where I recommend using full_case and parallel_case statements. The parallel case statement tells the synthesis tool to not build a priority encoder even though in theory, more than one of the state bits could be set (as engineers, we know that this is a onehot FSM and that only one bit can be set so no priority encoder is required). The value of the full_case statement is still in question.</p>
<p>Noteï¼šå¤šä¸ªè¾“å‡ºonehotç¼–ç ï¼Œä¼˜å…ˆç¼–ç å™¨</p>
<blockquote>
<p><a href="http://www.cburch.com/logisim/docs/2.3.0/libs/plexers/priencod.html">http://www.cburch.com/logisim/docs/2.3.0/libs/plexers/priencod.html</a></p>
</blockquote>
<p>å…³äºparallel_caseå’Œfull_caseçš„ä½¿ç”¨</p>
<blockquote>
<p><a href="https://blog.csdn.net/teenagerold/article/details/78022636?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_title-0&spm=1001.2101.3001.4242">https://blog.csdn.net/teenagerold/article/details/78022636?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_title-0&amp;spm=1001.2101.3001.4242</a></p>
</blockquote>
<blockquote>
<p><a href="https://blog.csdn.net/childbor/article/details/78633541?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_title-1&spm=1001.2101.3001.4242">https://blog.csdn.net/childbor/article/details/78633541?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_title-1&amp;spm=1001.2101.3001.4242</a></p>
</blockquote>
<h3 id="8-Registered-FSM-Output-Good-style"><a href="#8-Registered-FSM-Output-Good-style" class="headerlink" title="8 Registered FSM Output. (Good style)"></a>8 Registered FSM Output. (Good style)</h3><p>åœ¨è¾“å‡ºçº§åŠ ä¸€ä¸ªregisterå¯ä»¥ä¿è¯è¾“å‡ºæ²¡æœ‰glitchï¼Œä¼˜åŒ–ç»¼åˆç»“æœã€‚</p>
<p>Registering the outputs of an FSM design insures that the outputs are <strong>glitch-free</strong> and frequently improves synthesis results by standardizing the output and input delay constraints of synthesized modules.</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Learning_Notes/FSM/images/5.registeredFSM.png" alt="Figure 6.Registered FSM"></p>
<h3 id="9-System-Verilog-Enhancement"><a href="#9-System-Verilog-Enhancement" class="headerlink" title="9 System Verilog Enhancement"></a>9 System Verilog Enhancement</h3>]]></content>
      <categories>
        <category>FSM_verilog</category>
      </categories>
      <tags>
        <tag>FSM</tag>
      </tags>
  </entry>
  <entry>
    <title>SV_1.1 Data Type</title>
    <url>/2021/04/02/System_Verilog/SV_1.1%20Data%20Type/</url>
    <content><![CDATA[<p>Source from :</p>
<ol>
<li><p>ã€ŠèŠ¯ç‰‡éªŒè¯æ¼«æ¸¸æŒ‡å—ã€‹- Page 108-111</p>
</li>
<li><p>ã€ŠSystem VerilogéªŒè¯ã€‹- Chapter 2</p>
</li>
</ol>
<h2 id="1-æ•°æ®ç±»å‹-å†…å»ºæ•°æ®ç±»å‹ï¼š"><a href="#1-æ•°æ®ç±»å‹-å†…å»ºæ•°æ®ç±»å‹ï¼š" class="headerlink" title="1. æ•°æ®ç±»å‹-å†…å»ºæ•°æ®ç±»å‹ï¼š"></a>1. æ•°æ®ç±»å‹-å†…å»ºæ•°æ®ç±»å‹ï¼š</h2><h3 id="1-1-logic-ç±»å‹"><a href="#1-1-logic-ç±»å‹" class="headerlink" title="1.1 logic ç±»å‹"></a>1.1 logic ç±»å‹</h3><p>SVä¸­å¼•å…¥ä¸€ä¸ªæ–°çš„æ•°æ®ç±»å‹logicï¼ˆè¿˜æœ‰net &amp; wireï¼‰</p>
<p>SVä½œä¸ºä¾§é‡äºéªŒè¯çš„è¯­è¨€ï¼Œå¹¶ä¸å…³åˆ‡logicå¯¹åº”çš„é€»è¾‘åº”è¯¥è¢«ç»¼åˆä¸ºå¯„å­˜å™¨è¿˜æ˜¯çº¿ç½‘ï¼Œå› ä¸ºlogicè¢«ä½¿ç”¨çš„åœºæ™¯å¦‚æœæ˜¯éªŒè¯ç¯å¢ƒï¼Œå‘¢ä¹ˆå®ƒåªä¼šä½œä¸ºå•çº¯çš„å˜é‡è¿›è¡Œèµ‹å€¼æ“ä½œï¼Œè€Œè¿™äº›å˜é‡ä¹Ÿåªå±äºè½¯ä»¶ç¯å¢ƒæ„å»ºã€‚</p>
<p>åŸå› ï¼šæ–¹ä¾¿éªŒè¯äººå‘˜èŠ‚çœè€ƒè™‘æ˜¯çº¿ç½‘è¿˜æ˜¯å¯„å­˜å™¨å˜é‡çš„æ—¶é—´å’Œç²¾åŠ›ã€‚</p>
<p>Noteï¼š</p>
<ul>
<li>logic å£°æ˜çš„å˜é‡å¯ä»¥è¢«è¿ç»­èµ‹å€¼ï¼Œé—¨å•ä½å’Œæ¨¡å—æ‰€é©±åŠ¨</li>
<li>ä½¿ç”¨netç±»å‹çš„åœ°æ–¹å‡å¯ä»¥ä½¿ç”¨logicï¼Œä½†æ˜¯è¦æ±‚logicä¸èƒ½æœ‰é€šè¿‡å¤šä¸ªç»“æ„æ€§çš„é©±åŠ¨ï¼ˆå¦‚åŒå‘æ€»çº¿å»ºæ¨¡ï¼‰ï¼Œæ­¤æ—¶éœ€è¦ç”¨netç±»å‹ã€‚</li>
</ul>
<p>Note:</p>
<ul>
<li><p>å¯ä»¥å°†æ‰€æœ‰ç±»å‹ï¼ˆreg&amp;wireï¼‰éƒ½å®šä¹‰æˆlogicï¼Œåœ¨å¤šä¸ªé©±åŠ¨çš„åœ°æ–¹ä¼šå‘ç”Ÿç¼–è¯‘é”™è¯¯ï¼ˆç¼–è¯‘å™¨æœŸå¾…ä¸ºwireç±»å‹ï¼‰</p>
</li>
<li><p>logic æ˜¯å››å€¼é€»è¾‘ï¼ˆ0ï¼Œ1ï¼ŒXï¼ŒZï¼‰</p>
</li>
</ul>
<h3 id="1-2-åŒçŠ¶æ€æ•°æ®ç±»å‹"><a href="#1-2-åŒçŠ¶æ€æ•°æ®ç±»å‹" class="headerlink" title="1.2 åŒçŠ¶æ€æ•°æ®ç±»å‹"></a>1.2 åŒçŠ¶æ€æ•°æ®ç±»å‹</h3><p>å¼•å…¥äºŒçŠ¶æ€æ•°æ®ç±»å‹ï¼ˆ0 or 1ï¼‰çš„åŸå› ï¼š</p>
<ol>
<li>è½¯ç¡¬scopeåŒºåˆ†ï¼š</li>
</ol>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/SV/1.1_data_type/1.png" alt="Figure 1.äºŒå€¼é€»è¾‘"></p>
<ol start="2">
<li>ä»¿çœŸå™¨çš„å†…å­˜ä½¿ç”¨å‡å°‘ï¼Œæé«˜ä»¿çœŸå™¨çš„ç²¾åº¦ã€‚</li>
</ol>
<p>å››å€¼é€»è¾‘ç±»å‹ï¼ŒäºŒå€¼é€»è¾‘ç±»å‹å˜é‡åˆ’åˆ†</p>
<ul>
<li><p>å››å€¼ï¼šintegerï¼ˆ32ä½ï¼‰, logic, reg, net-type(wire)</p>
</li>
<li><p>äºŒå€¼ï¼šbyte (ç±»æ¯”Cçš„charï¼Œ8ä½), shortintï¼ˆ16ä½ï¼‰, intï¼ˆ32ä½ï¼‰, longintï¼ˆ64ä½ï¼‰, bit (1 ä½)</p>
</li>
</ul>
<p>æœ‰ç¬¦å·ç±»å‹ï¼Œæ— ç¬¦å·ç±»å‹å˜é‡åˆ’åˆ†</p>
<ul>
<li><p>æœ‰ç¬¦å·ç±»å‹ï¼šbyteï¼Œshortintï¼Œintï¼Œlongintï¼Œinteger</p>
</li>
<li><p>æ— ç¬¦å·ç±»å‹ï¼šbit, logic, reg, net-type(wire &amp; tri)</p>
</li>
</ul>
<p>Caseï¼š</p>
<ol>
<li>ä¸åŒæ•°æ®ç±»å‹çš„å˜é‡ä¹‹é—´çš„èµ‹å€¼ï¼š</li>
</ol>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/SV/1.1_data_type/2.png"></p>
<p>ansï¼š128ï¼Œ128ï¼Œ-128</p>
<ol start="2">
<li>ä¸åŒä½å®½çš„æ•°æ®è½¬æ¢ æ˜¯ è¡¥0è¿˜æ˜¯è¡¥1ï¼š</li>
</ol>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/SV/1.1_data_type/3.png"></p>
<p>ansï¼šæœ‰ç¬¦å·æ•°è½¬æ¢ï¼Œå…ˆæ‹“å±•äº†ä¸€ä½ç¬¦å·ä½ã€‚<code>h180ã€‚           æ— ç¬¦å·æ•°è½¬åŒ–ï¼Œæ‹“å±•è¡¥0ã€‚ </code>h080ã€‚</p>
<p>ç»†èŠ‚ï¼šåœ¨åŒçŠ¶æ€å˜é‡è¿æ¥DUTï¼Œå°¤å…¶è¢«æµ‹è®¾è®¡è¾“å‡ºäº§ç”ŸX or Zæ—¶å€™ï¼Œè¿™äº›å€¼ä¼šè¢«è½¬æ¢æˆ0æˆ–è€…1ï¼Œè€Œæµ‹è¯•ä»£ç å¯èƒ½æ°¸è¿œæ£€æµ‹ä¸åˆ°X or Zã€‚ä½¿ç”¨ï¼ˆ$isunkownï¼‰æ“ä½œç¬¦å¯ä»¥æ£€æŸ¥åœ¨ä»»æ„ä½å‡ºç°Xè¿˜æ˜¯Zæ—¶å€™ï¼Œè¿”å›1ã€‚</p>
<p>æ•°æ®è½¬æ¢ï¼šç¼–ç æ—¶ä¸€å®šè¦æ³¨æ„æ“ä½œç¬¦å·¦å³ä¸¤ä¾§çš„ç¬¦å·ç±»å‹æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸ä¸€è‡´ï¼Œåº”è¯¥é¦–å…ˆå°†å…¶è½¬æ¢ä¸ºåŒä¸€ç±»å‹å†è½¬æ¢ã€‚</p>
<ul>
<li>é™æ€è½¬æ¢<br>éœ€è¦è½¬æ¢çš„è¡¨è¾¾å¼å‰åŠ ä¸Šå•å¼•å·å³å¯ã€‚ç¼–è¯‘æ—¶å€™æ£€æŸ¥ã€‚</li>
<li>åŠ¨æ€è½¬æ¢</li>
</ul>
<p>$cast(tgt,src)ã€‚ ä»¿çœŸæ—¶å€™æ£€æŸ¥ã€‚</p>
<p>é™æ€è½¬åŒ–æˆ–è€…åŠ¨æ€è½¬æ¢éƒ½éœ€è¦æ“ä½œç¬¦æˆ–è€…ç³»ç»Ÿå‡½æ•°çš„ä»‹å…¥ï¼Œç§°ä¸ºæ˜¾å¼è½¬æ¢ã€‚</p>
<p>ä¸‹é¢ä»‹ç»éšå¼è½¬æ¢ï¼š</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/SV/1.1_data_type/4.png" alt="Figure 4.éšå¼è½¬æ¢"></p>
<p>å››å€¼é€»è¾‘è½¬æ¢æˆäºŒå€¼é€»è¾‘ã€‚ï¼ˆ<strong>Xåªä¼šå˜æˆ0</strong>ï¼‰ï¼šansï¼š111xï¼Œ110</p>
<p>åœ¨æ“ä½œä¸åŒå˜é‡æ—¶ï¼Œé™¤å»å˜é‡çš„æ•°å€¼ï¼šéœ€è¦è€ƒè™‘å˜é‡çš„ä»¥ä¸‹æ€§è´¨ï¼š</p>
<ul>
<li>é€»è¾‘æ•°å€¼ç±»å‹</li>
<li>ç¬¦å·ç±»å‹</li>
<li>çŸ¢é‡ä½å®½</li>
</ul>
<h2 id="2-å®šå®½æ•°ç»„"><a href="#2-å®šå®½æ•°ç»„" class="headerlink" title="2. å®šå®½æ•°ç»„"></a>2. å®šå®½æ•°ç»„</h2><h3 id="2-1-æ•°ç»„å£°æ˜-amp-åˆå§‹åŒ–ï¼š"><a href="#2-1-æ•°ç»„å£°æ˜-amp-åˆå§‹åŒ–ï¼š" class="headerlink" title="2.1 æ•°ç»„å£°æ˜&amp;åˆå§‹åŒ–ï¼š"></a>2.1 æ•°ç»„å£°æ˜&amp;åˆå§‹åŒ–ï¼š</h3><pre><code>int a [16] 
int a [0:15]
int array [8][4] ; // åˆ›å»ºä¸€ä¸ª8è¡Œ4åˆ—çš„çŸ©é˜µ
array [7][3] = 1;  // è®¾ç½®æœ€åä¸€ä¸ªå…ƒç´ 
</code></pre>
<p>Noteï¼š</p>
<ul>
<li><p>å½“ä½ çš„ç¨‹åºè¯•å›¾è¯»å–ä¸€ä¸ªè¶…è¶Šå®šä¹‰èŒƒå›´çš„åœ°å€ä¸­è¯»å–æ•°æ®ï¼ŒSVåˆ™ä¼šè¿”å›<strong>æ•°ç»„å…ƒç´ ç±»å‹</strong>çš„ç¼ºçœå€¼ã€‚å¯¹äºå››çŠ¶æ€ç±»å‹çš„æ•°ç»„å¦‚logicï¼Œè¿”å›çš„æ˜¯Xï¼›å¯¹äºåŒçŠ¶æ€ç±»å‹ä¾‹å¦‚int or bit åˆ™è¿”å›0ã€‚</p>
</li>
<li><p>çº¿ç½‘åœ¨æ²¡æœ‰é©±åŠ¨çš„æ—¶å€™è¾“å‡ºæ˜¯Z</p>
</li>
</ul>
<p>Note: </p>
<p>æ•°ç»„å£°æ˜æ”¾åœ¨æ•°ç»„åå­—å³è¾¹ã€‚</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/SV/1.1_data_type/5.png" alt="Figure 5. æ•°ç»„åˆå§‹åŒ–"></p>
<p>Note: </p>
<ol>
<li><p><code>&#123;&#125; èµ‹å€¼ï¼›Name = </code>{0, 1, 2, 3};</p>
</li>
<li><p>N {1} : é‡å¤ç¬¦å·</p>
</li>
</ol>
<h3 id="2-2-å­˜å‚¨ç©ºé—´è€ƒé‡ï¼ˆåˆå¹¶ä¸éåˆå¹¶ï¼‰"><a href="#2-2-å­˜å‚¨ç©ºé—´è€ƒé‡ï¼ˆåˆå¹¶ä¸éåˆå¹¶ï¼‰" class="headerlink" title="2.2 å­˜å‚¨ç©ºé—´è€ƒé‡ï¼ˆåˆå¹¶ä¸éåˆå¹¶ï¼‰"></a>2.2 å­˜å‚¨ç©ºé—´è€ƒé‡ï¼ˆåˆå¹¶ä¸éåˆå¹¶ï¼‰</h3><p>SVä»¿çœŸå™¨åœ¨å­˜æ”¾æ•°ç»„å…ƒç´ æ—¶å€™æ—¶ï¼Œä½¿ç”¨32bitï¼ˆ4 byte=1 wordï¼‰çš„å­—è¾¹ç•Œã€‚å› æ­¤byteï¼Œshortintï¼Œintéƒ½æ˜¯å­˜åœ¨ä¸€ä¸ªå­—ã€‚longintæ”¾åœ¨ä¸¤ä¸ªå­—ã€‚</p>
<ul>
<li><p>åˆå¹¶ï¼š</p>
<p>  bit [3][7:0] b_pack; // ç»´åº¦å£°æ˜æ”¾åœ¨äº†å˜é‡åå·¦è¾¹ï¼Œå ç”¨1ä¸ªword</p>
</li>
<li><p>éåˆå¹¶ï¼š</p>
<p>  bit [7:0] b_unpack [3] // å¦‚ä¸‹ï¼Œå ç”¨3ä¸ªword.</p>
</li>
</ul>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/SV/1.1_data_type/6.png" alt="Figure 6.éåˆå¹¶space"></p>
<p>exercise</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/SV/1.1_data_type/7.png" alt="Figure 7."></p>
<p>ans: logic æ˜¯4å€¼é€»è¾‘ï¼Œè½¯ä»¶ä¸Šéœ€è¦ä¸¤ä½æ¥å­˜å‚¨ã€‚</p>
<p>ç¬¬ä¸€ç§æ˜¯åˆå¹¶å­˜å‚¨ï¼š3<em>8</em>2/32=1.5  éœ€è¦ä¸¤ä¸ªword</p>
<p>ç¬¬äºŒç§æ˜¯éåˆå¹¶å­˜å‚¨ï¼šæ¯ä¸€ä¸ªword è¶³å¤Ÿå­˜å‚¨ä¸€ä¸ªæ•°å€¼ï¼Œéœ€è¦ä¸‰ä¸ªwordã€‚</p>
<h3 id="2-3-åŸºæœ¬æ•°ç»„æ“ä½œ"><a href="#2-3-åŸºæœ¬æ•°ç»„æ“ä½œ" class="headerlink" title="2.3 åŸºæœ¬æ•°ç»„æ“ä½œ"></a>2.3 åŸºæœ¬æ•°ç»„æ“ä½œ</h3><h4 id="2-3-1-forå’Œforeachå¾ªç¯"><a href="#2-3-1-forå’Œforeachå¾ªç¯" class="headerlink" title="2.3.1 forå’Œforeachå¾ªç¯"></a>2.3.1 forå’Œforeachå¾ªç¯</h4><pre><code>$size(Array Name); è¿”å›æ•°ç»„çš„å®½åº¦
</code></pre>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/SV/1.1_data_type/8.png" alt="Figure 8. Foreachä½¿ç”¨èŒƒä¾‹"></p>
<p>foreach èµ‹å€¼å¤šç»´æ•°ç»„çš„çš„è¯­æ³•ï¼Œä¸æ˜¯ [i][j]ï¼Œè€Œæ˜¯[i,j]ã€‚</p>
<pre><code>foreach (md[i,j])
$display (&quot;md[%0d][%0d]=%0d&quot;, i , j, md[i][j]);
</code></pre>
<h4 id="2-3-2-èµ‹å€¼ä¸æ¯”è¾ƒ"><a href="#2-3-2-èµ‹å€¼ä¸æ¯”è¾ƒ" class="headerlink" title="2.3.2 èµ‹å€¼ä¸æ¯”è¾ƒ"></a>2.3.2 èµ‹å€¼ä¸æ¯”è¾ƒ</h4><p>èµ‹å€¼å¯ä»¥ç›´æ¥é‡‡ç”¨ = ä¼ é€’</p>
<p>æ¯”è¾ƒå¯ä»¥ç›´æ¥é‡‡ç”¨ == è¿›è¡Œä¸¤ä¸ªæ•°ç»„çš„æ¯”è¾ƒï¼Œä¸éœ€è¦ç”¨foræ¯”è¾ƒæ¯ä¸ªå…ƒç´ </p>
<p>è¿˜å¯ä»¥è¿›è¡Œæ•°ç»„ç‰‡æ®µæ¯”è¾ƒï¼š</p>
<pre><code>$display(&quot;src[1:4] %s dst[1:4]&quot;, (src[1:4] == dst[1:4)? &quot;==&quot; : &quot;!=&quot;);
</code></pre>
<h3 id="2-4-åˆå¹¶æ•°ç»„ä¸éåˆå¹¶æ•°ç»„"><a href="#2-4-åˆå¹¶æ•°ç»„ä¸éåˆå¹¶æ•°ç»„" class="headerlink" title="2.4 åˆå¹¶æ•°ç»„ä¸éåˆå¹¶æ•°ç»„"></a>2.4 åˆå¹¶æ•°ç»„ä¸éåˆå¹¶æ•°ç»„</h3><p>åˆå¹¶æ•°ç»„çš„å£°æ˜ï¼šå¿…é¡»æ˜¯[msb:lsb] ä¸èƒ½æ˜¯[size]</p>
<p>ä½¿ç”¨åˆå¹¶æ•°ç»„åï¼Œå¯ä»¥å•ç‹¬è®¿é—®æ•°ç»„ä¸­çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>å…³äºåˆå¹¶æ•°ç»„çš„é€‰æ‹©ï¼š</p>
<ul>
<li><p>éœ€è¦ä»¥Byteæˆ–è€…wordä¸ºå•ä½è¿›è¡Œå¯¹å­˜å‚¨å•ä½è¿›è¡Œé‡å¤è¯»å†™çš„éœ€æ±‚</p>
</li>
<li><p>å½“éœ€è¦ç­‰å¾…æ•°ç»„çš„å€¼çš„å˜åŒ–ï¼ˆæ•æ„Ÿåˆ—è¡¨ï¼‰å¿…é¡»ä½¿ç”¨åˆå¹¶æ•°ç»„ã€‚</p>
</li>
</ul>
<h2 id="3-åŠ¨æ€æ•°ç»„"><a href="#3-åŠ¨æ€æ•°ç»„" class="headerlink" title="3. åŠ¨æ€æ•°ç»„"></a>3. åŠ¨æ€æ•°ç»„</h2><p>æ•°ç»„çš„å¤§å°å¯ä»¥çµæ´»è°ƒæ•´å®½åº¦ï¼Œå¯åœ¨ä»¿çœŸæ—¶çµæ´»è°ƒèŠ‚æ•°ç»„çš„å¤§å°å³å­˜å‚¨é‡ã€‚å¯ä»¥å¼€è¾Ÿæ–°çš„å­˜å‚¨ç©ºé—´ã€‚</p>
<p>Dynæ•°ç»„çš„å„ç§æ“ä½œï¼Œèµ‹å€¼ï¼Œæ‹“å±•ï¼Œåˆ é™¤ã€‚</p>
<p>int dyn[]</p>
<p>dyn= new [å®½åº¦]</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/SV/1.1_data_type/9.png" alt="Figure 9. åŠ¨æ€æ•°ç»„ä½¿ç”¨"></p>
<p>å¯ä»¥ç”¨ä¸€ä¸ªå¸¸é‡æ•°ç»„ç»™åŠ¨æ€æ•°ç»„èµ‹å€¼ã€‚</p>
<p>int çš„é»˜è®¤å€¼æ˜¯0ï¼Œ integerçš„é»˜è®¤å€¼æ˜¯1ã€‚</p>
<h2 id="4-é˜Ÿåˆ—"><a href="#4-é˜Ÿåˆ—" class="headerlink" title="4. é˜Ÿåˆ—"></a>4. é˜Ÿåˆ—</h2><p>ç»“åˆäº†é“¾è¡¨å’Œæ•°ç»„ï¼›å¯ä»¥åœ¨ä»»ä½•ä¸€ä¸ªåœ°æ–¹æ·»åŠ ï¼Œåˆ é™¤å…ƒç´ å¹¶ä¸”å¯ä»¥é€šè¿‡ç´¢å¼•çš„æ–¹å¼å®ç°å¯¹ä»»ä¸€å…ƒç´ çš„è®¿é—®ã€‚</p>
<p>ä¼˜ç‚¹ï¼šæ‰§è¡Œæ’å…¥å…ƒç´ è¿™ç§æ“ä½œæ—¶ï¼Œä½¿ç”¨é˜Ÿåˆ—æ¯”ä½¿ç”¨åŠ¨æ€æ•°ç»„å¸¦æ¥çš„æ€§èƒ½æŸå¤±å°‘ï¼ˆåŠ¨æ€æ•°ç»„éœ€è¦å¼€è¾Ÿæ–°çš„å­˜å‚¨ç©ºé—´ï¼Œå¹¶å¤åˆ¶åŸæœ‰çš„æ•°ç»„çš„æ•°æ®ï¼‰</p>
<p>é˜Ÿåˆ—çš„å£°æ˜ï¼š</p>
<ol>
<li><p>Name[$]={0,1} // ä¸éœ€è¦åœ¨å‰é¢åŠ â€œ ` â€</p>
</li>
<li><p>name.insert(index, å†…å®¹) //åœ¨é˜Ÿåˆ—çš„æŸä¸€ä½å‰æ’å…¥ä¸€ä½æˆ–è€…ä¸€ä¸ªé˜Ÿåˆ—</p>
</li>
<li><p>name.delete(index) //åˆ é™¤é˜Ÿåˆ—æŸä¸€ä½æ•°æ®</p>
</li>
</ol>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/SV/1.1_data_type/10.png" alt="Figure 10.é˜Ÿåˆ—ä½¿ç”¨"></p>
<pre><code> push_back() and pop_front() çš„ç»“åˆå®ç°ä¸€ä¸ªFIFOçš„ç”¨æ³•
</code></pre>
<p>Note: </p>
<pre><code>q.size()         //æŸ¥æ‰¾qçš„é˜Ÿåˆ—é•¿åº¦, 
[$:2]: [0:2]         //ä½¿ç”¨$å¯ä»¥è¡¨ç¤ºæœ€å¤§å€¼æˆ–è€…æœ€å°å€¼ï¼š
[2:$]: [2:æœ€å¤§å€¼]
j =q[$]  //é˜Ÿåˆ—çš„æœ€é«˜ä½èµ‹ç»™j
</code></pre>
<h2 id="5-å…³è”æ•°ç»„"><a href="#5-å…³è”æ•°ç»„" class="headerlink" title="5. å…³è”æ•°ç»„"></a>5. å…³è”æ•°ç»„</h2><p>å¦‚æœéœ€è¦ä¸€ä¸ªè¶…å¤§å®¹é‡çš„æ•°ç»„ï¼ˆæ¨¡æ‹Ÿå­˜å‚¨å™¨ï¼‰ï¼Œè‹¥åˆ©ç”¨åŠ¨æ€æ•°ç»„å»ºç«‹ï¼Œä¸€æ—¦åˆ›å»ºæ—¶å°±è¢«å›ºå®šä¸‹æ¥ï¼Œå¯¹äºè¶…å¤§å®¹é‡çš„æ•°ç»„åˆ™æ˜¯æµªè´¹èµ„æºã€‚</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/SV/1.1_data_type/11.png" alt="Figure 11.å…³è”æ•°ç»„ä½¿ç”¨"></p>
<h2 id="6-ç»“æ„ä½“"><a href="#6-ç»“æ„ä½“" class="headerlink" title="6. ç»“æ„ä½“"></a>6. ç»“æ„ä½“</h2><p>verilogä¸­æ— æ•°æ®ç»“æ„ï¼ŒSVå¯ä»¥ä½¿ç”¨structè¯­å¥åˆ›å»ºç»“æ„ï¼Œè·ŸCè¯­è¨€ç›¸ä¼¼ã€‚</p>
]]></content>
      <categories>
        <category>SV</category>
      </categories>
      <tags>
        <tag>SV</tag>
      </tags>
  </entry>
  <entry>
    <title>Verilog Ch1&amp;2</title>
    <url>/2021/04/02/Verilog/Verilog%20Ch1&amp;2/</url>
    <content><![CDATA[<p>In this chapter, we would focus on fundamentals and core concepts of Verilog HDL. åœ¨è¿™ä¸€ç« ä¸­ï¼Œä¸»è¦ä»‹ç»ä¸€äº›æ¦‚å¿µå’ŒVerlog HDLçš„åŸºç¡€çŸ¥è¯†ã€‚</p>
<h3 id="0-æ¨¡å—æ¦‚å¿µï¼š"><a href="#0-æ¨¡å—æ¦‚å¿µï¼š" class="headerlink" title="0.æ¨¡å—æ¦‚å¿µï¼š"></a>0.æ¨¡å—æ¦‚å¿µï¼š</h3><ul>
<li><p>è½¯æ ¸ Soft core:<br>  ä¸€èˆ¬æŒ‡ç»è¿‡åŠŸèƒ½éªŒè¯ï¼Œå¯ç»¼åˆçš„Verilog HDLï¼ˆVHDLï¼‰æ¨¡å‹.</p>
</li>
<li><p>å›ºæ ¸ Firm core:<br>  é€šçŸ¥æŒ‡åœ¨ASIC or FPGA å™¨ä»¶ä¸Šï¼Œç»è¿‡ç»¼åˆéªŒè¯çš„ç”µè·¯ç½‘è¡¨æ–‡ä»¶ã€‚</p>
</li>
<li><p>ç¡¬æ ¸ Hard core:<br>  åœ¨ASICå™¨ä»¶ä¸Šï¼Œç»è¿‡éªŒè¯æ­£ç¡®çš„çš„ç”µè·¯ç»“æ„ç‰ˆå›¾æ©è†œã€‚</p>
</li>
</ul>
<h3 id="1-Verilog-HDL-åŸºç¡€"><a href="#1-Verilog-HDL-åŸºç¡€" class="headerlink" title="1.Verilog HDL åŸºç¡€"></a>1.Verilog HDL åŸºç¡€</h3><ul>
<li>æ•°å€¼çŠ¶æ€</li>
</ul>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Learning_Notes/FSM/images/1.%20FSM%E7%B1%BB%E5%9E%8B.png" alt="Figure 1.Vaule_conditions"></p>
<ul>
<li>ä½åˆ¶ï¼šäºŒè¿›åˆ¶ bï¼› å…«è¿›åˆ¶: oï¼›åè¿›åˆ¶ï¼šdï¼›åå…­è¿›åˆ¶ï¼šh</li>
<li>æ•´æ•°è¡¨ç¤º 8â€˜b0000_0001ã€‚ ä½æ•°â€˜ä½åˆ¶â€˜æ•°å­—</li>
</ul>
<h3 id="2-æ•°æ®ç±»å‹"><a href="#2-æ•°æ®ç±»å‹" class="headerlink" title="2. æ•°æ®ç±»å‹"></a>2. æ•°æ®ç±»å‹</h3><ul>
<li>åˆ†ç±»ï¼šwireï¼ˆtriä¸‰æ€é—¨ï¼Œtri0ä¸‹æ‹‰ç”µé˜»ï¼Œtri1ä¸Šæ‹‰ç”µé˜»ï¼‰ï¼Œregï¼ŒRAM</li>
<li>regï¼šå¯¹åº”ç¡¬ä»¶ç”µè·¯å…ƒä»¶å…·æœ‰çŠ¶æ€ä¿æŒä½œç”¨ï¼›è§¦å‘å™¨ï¼Œé”å­˜å™¨</li>
<li>RAMï¼šç±»ä¼¼äºäºŒç»´æ•°ç»„çš„å®šä¹‰æ–¹å¼ã€‚ reg[7:0] mem1[255:0] //å®šä¹‰256ä¸ª8ä½å¯„å­˜å™¨çš„memã€‚</li>
</ul>
<p>æŠ½è±¡æ•°æ®ç±»å‹ï¼š</p>
<ul>
<li>æ•´å‹ integerï¼Œæ—¶é—´ timeï¼Œå®å‹ real ï¼Œå‚æ•°å‹parameter.</li>
<li>integer index //å®šä¹‰32ä½æœ‰ç¬¦å·æ•°</li>
<li>time a; // å®šä¹‰ä¸¤ä¸ª64ä½çš„æ—¶é—´å‹å˜é‡ã€‚<br>ä¸»è¦ç”¨äºå¯¹æ¨¡æ‹Ÿæ—¶é—´çš„å­˜å‚¨å’Œè®¡ç®—å¤„ç†ï¼Œå¸¸ä¸$time ä¸€èµ·ä½¿ç”¨</li>
<li>real stime; // å®šä¹‰ä¸€ä¸ªå®æ•°å‹æ•°æ®ï¼ˆæµ®ç‚¹å‹ï¼‰ï¼Œå¸¸ç”¨äºå»¶è¿Ÿæ—¶é—´çš„è®¡ç®—</li>
<li>parameter length=32, // å¸¸é‡ï¼Œåœ¨ä»¿çœŸä¹‹å‰å°±è¢«å¤åˆ¶ï¼Œæé«˜ç¨‹åºå¯è¯»æ€§ã€‚</li>
</ul>
<p>è¿ç®—ç¬¦ï¼š<br><img src="https://github.com/XuLixing/blog_images/raw/main/Learning_Notes/FSM/images/2.%20code%20style.png" alt="Figure 2.opeartors"></p>
<h4 id="Note"><a href="#Note" class="headerlink" title="Note:"></a><em>Note</em>:</h4><p>èµ‹å€¼è¯­å¥ä¸‹ï¼Œç»“æœçš„é•¿åº¦æ˜¯ç”±æ“ä½œå·¦ç«¯ç›®æ ‡é•¿åº¦å†³å®šã€‚å–ä½Nä½ï¼Œä¸å¤Ÿè¡¥0ã€‚</p>
<h3 id="3-æ¡ä»¶è¿ç®—ç¬¦"><a href="#3-æ¡ä»¶è¿ç®—ç¬¦" class="headerlink" title="3. æ¡ä»¶è¿ç®—ç¬¦"></a>3. æ¡ä»¶è¿ç®—ç¬¦</h3><p>example: (!sel)?in1:in2;</p>
<h3 id="4-è¿æ¥å’Œå¤åˆ¶è¿ç®—ç¬¦"><a href="#4-è¿æ¥å’Œå¤åˆ¶è¿ç®—ç¬¦" class="headerlink" title="4. è¿æ¥å’Œå¤åˆ¶è¿ç®—ç¬¦"></a>4. è¿æ¥å’Œå¤åˆ¶è¿ç®—ç¬¦</h3><p><img src="https://github.com/XuLixing/blog_images/raw/main/Verilog_Learning/Verilog_chapter_1%262/images_1%262/%E8%BF%9E%E6%8E%A5%E5%92%8C%E5%A4%8D%E5%88%B6.png" alt="Figure 3.è¿æ¥"></p>
<h3 id="5-æ¨¡å—çš„åŸºæœ¬æ¦‚å¿µ"><a href="#5-æ¨¡å—çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="5. æ¨¡å—çš„åŸºæœ¬æ¦‚å¿µ"></a>5. æ¨¡å—çš„åŸºæœ¬æ¦‚å¿µ</h3><p>Moduleæ˜¯verilog HDLçš„åŸºæœ¬å•å…ƒ</p>
<blockquote>
<p>ç»„æˆï¼š</p>
</blockquote>
<ul>
<li>å¼€å§‹ï¼šNAME moduleï¼›- endmodule</li>
<li>ç«¯å£å®šä¹‰ï¼šinput output ï¼ˆæ¨¡å—å¼•ç”¨å…·ä½“ï¼‰</li>
<li>æ•°æ®ç±»å‹å®šä¹‰ï¼š wireï¼Œregï¼Œmemoryï¼Œparameter</li>
<li>é€»è¾‘åŠŸèƒ½æè¿°ï¼šinitialï¼Œalwaysï¼Œassignï¼Œfunctionï¼Œtask</li>
</ul>
]]></content>
      <categories>
        <category>verilog</category>
      </categories>
      <tags>
        <tag>verilog</tag>
      </tags>
  </entry>
  <entry>
    <title>Verilog Ch3</title>
    <url>/2021/04/02/Verilog/Verilog%20Ch3/</url>
    <content><![CDATA[<h3 id="3-1-æ•°æ®æµå»ºæ¨¡"><a href="#3-1-æ•°æ®æµå»ºæ¨¡" class="headerlink" title="3.1 æ•°æ®æµå»ºæ¨¡"></a>3.1 æ•°æ®æµå»ºæ¨¡</h3><h3 id="3-11-è¿ç»­èµ‹å€¼è¯­å¥"><a href="#3-11-è¿ç»­èµ‹å€¼è¯­å¥" class="headerlink" title="3.11 è¿ç»­èµ‹å€¼è¯­å¥"></a>3.11 è¿ç»­èµ‹å€¼è¯­å¥</h3><ul>
<li>æ ‡é‡ï¼Œå¦‚wire a,b;</li>
<li>å‘é‡ï¼Œå¦‚wire [3:0] a, b;</li>
</ul>
<p>Noteï¼š</p>
<blockquote>
<ol>
<li>Assign ç±»å‹ éœ€è¦ç”¨ â€˜=â€™</li>
<li>å˜é‡éœ€è¦wireç±»å‹  </li>
<li>å¹¶è¡Œè®¡ç®—ï¼Œæ²¡æœ‰é¡ºåº</li>
</ol>
</blockquote>
<h3 id="3-2-è¡Œä¸ºçº§å»ºæ¨¡"><a href="#3-2-è¡Œä¸ºçº§å»ºæ¨¡" class="headerlink" title="3.2 è¡Œä¸ºçº§å»ºæ¨¡"></a>3.2 è¡Œä¸ºçº§å»ºæ¨¡</h3><h3 id="3-2-1-è¿‡ç¨‹è¯­å¥"><a href="#3-2-1-è¿‡ç¨‹è¯­å¥" class="headerlink" title="3.2.1 è¿‡ç¨‹è¯­å¥"></a>3.2.1 è¿‡ç¨‹è¯­å¥</h3><p>Aï¼‰initial è¿‡ç¨‹è¯­å¥</p>
<p>initial ä¸‹é¡ºåºèµ‹å€¼ï¼Œæ·»åŠ <code>[#100]</code>ç­‰è¡¨è¾¾å¼å¯ä»¥å¢åŠ å»¶è¿Ÿã€‚</p>
<p>æ ¼å¼ï¼š</p>
<pre><code>initial
    
    begin
    
    end
</code></pre>
<p>Bï¼‰always è¿‡ç¨‹è¯­å¥:</p>
<p>always @(æ•æ„Ÿåˆ—è¡¨)</p>
<p>code exampleï¼š</p>
<pre><code>always @()

    case()

    endcase
</code></pre>
<pre><code>always @( )

    begin

    end
</code></pre>
<p>Note:</p>
<blockquote>
<ol>
<li>åœ¨è¿‡ç¨‹è¯­å¥ï¼ˆinitial å’Œ alwaysï¼‰ä¸­ï¼Œè¢«èµ‹å€¼ä¿¡å·å¿…é¡»è¢«å®šä¹‰ä¸º reg å‹ã€‚</li>
<li>é‡‡ç”¨è¿‡ç¨‹å¯¹ç»„åˆé€»è¾‘ç”µè·¯è¿›è¡Œæè¿°æ—¶ï¼šå…¨éƒ¨è¾“å…¥ä¿¡å·éœ€è¦åˆ—å…¥æ•æ„Ÿåˆ—è¡¨ã€‚</li>
<li>é‡‡ç”¨è¿‡ç¨‹å¯¹æ—¶åºé€»è¾‘ç”µè·¯è¿›è¡Œæè¿°æ—¶ï¼šéœ€è¦æŠŠæ—¶é—´ä¿¡å·å’Œéƒ¨åˆ†è¾“å…¥ä¿¡å·åˆ—å…¥ã€‚</li>
</ol>
</blockquote>
<h3 id="3-2-2-è¯­å¥å—"><a href="#3-2-2-è¯­å¥å—" class="headerlink" title="3.2.2 è¯­å¥å—"></a>3.2.2 è¯­å¥å—</h3><p>Aï¼‰begin-endï¼šè¯­å¥å†…éƒ¨æŒ‰ç…§é¡ºåºæ‰§è¡Œï¼Œå¯ä»¥ç”¨äºå¯ç»¼åˆç”µè·¯ç¨‹åºå’Œä»¿çœŸæµ‹è¯•ç¨‹åºã€‚</p>
<p>B) fork-join: è¯­å¥å†…éƒ¨æŒ‰ç…§æŒ‰ç…§å¹¶è¡Œæ–¹å¼ï¼Œä¸å¯ä»¥ç”¨äºå¯ç»¼åˆç”µè·¯ï¼Œåªèƒ½ç”¨äºä»¿çœŸç¨‹åºæµ‹è¯•ã€‚</p>
<p>æ¯”è¾ƒï¼š<br><a href="https://github.com/XuLixing/blog_images/raw/main/Verilog_Learning/Verilog_chapter_3/images_3/1.%E6%AF%94%E8%BE%83.png">Figure 1.æ¯”è¾ƒ</a></p>
<p>###3.2.3 è¿‡ç¨‹èµ‹å€¼è¯­å¥</p>
<p><em>é˜»å¡èµ‹å€¼è¯­å¥å’Œéé˜»å¡èµ‹å€¼è¯­å¥</em></p>
<ul>
<li>é˜»å¡èµ‹å€¼è¯­å¥â€œ=â€ æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š<ol>
<li>ä¸²è¡Œè¯­å¥å—ä¸­ï¼Œå„æ¡é˜»å¡èµ‹å€¼è¯­å¥å°†æŒ‰ç…§å…ˆåæ’åˆ—é¡ºåºä¸€æ¬¡æ‰§è¡Œã€‚<br>å¹¶è¡Œè¯­å¥å—ä¸­ï¼Œå„æ¡é˜»å¡èµ‹å€¼è¯­å¥åŒæ—¶æ‰§è¡Œï¼Œæ²¡æœ‰é¡ºåº</li>
<li>æ‰§è¡Œé˜»å¡èµ‹å€¼è¯­å¥çš„é¡ºåºæ˜¯ï¼šå…ˆè®¡ç®—ç­‰å·å³ç«¯çš„è¡¨è¾¾å¼ï¼Œç„¶åç«‹åˆ»èµ‹å€¼ç»™å·¦è¾¹çš„å˜é‡ï¼Œæ²¡æœ‰å»¶æ—¶ã€‚</li>
</ol>
</li>
<li>éé˜»å¡èµ‹å€¼è¯­å¥â€œ&lt;=â€ æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š<ol>
<li>ä¸²è¡Œè¯­å¥å—ï¼Œå„æ¡éé˜»å¡èµ‹å€¼è¯­å¥çš„æ‰§è¡Œæ²¡æœ‰å…ˆåé¡ºåºä¹‹åˆ†ã€‚å‰é¢çš„è¯­å¥ä¸ä¼šå½±å“åè¾¹è¯­å¥çš„æ‰§è¡Œã€‚å„æ¡è¯­å¥å¹¶è¡Œæ‰§è¡Œã€‚</li>
<li>æ‰§è¡Œéé˜»å¡èµ‹å€¼è¯­å¥çš„é¡ºåºæ˜¯ï¼Œå…ˆè®¡ç®—å³ç«¯è¡¨è¾¾å¼çš„å€¼ï¼Œç„¶åç­‰åˆ°å»¶æ—¶æ—¶é—´ç»“æŸï¼Œå†å°†è®¡ç®—çš„å€¼ä»˜ç»™å·¦è¾¹çš„å˜é‡ã€‚</li>
</ol>
</li>
</ul>
<p>Note:<br>    éœ€è¦æŒæ¡ï¼Œé˜»å¡å’Œéé˜»å¡ç”µè·¯å¯¹åº”verilogç¨‹åºç»¼åˆçš„ç”µè·¯çš„æƒ…å†µã€‚<br><img src="https://github.com/XuLixing/blog_images/raw/main/Verilog_Learning/Verilog_chapter_3/images_3/2.%E9%98%BB%E5%A1%9E%E9%9D%9E%E9%98%BB%E5%A1%9E.png" alt="Figure 2.é˜»å¡éé˜»å¡"></p>
<p>###3.2.4 è¿‡ç¨‹è¿ç»­èµ‹å€¼è¯­å¥<br>è¿‡ç¨‹æ€§è¿ç»­èµ‹å€¼è¯­å¥æœ‰ä¸¤ç§ç±»å‹ï¼šèµ‹å€¼ï¼Œé‡æ–°èµ‹å€¼( assign, deasign) å’Œ å¼ºåˆ¶ã€é‡Šæ”¾ï¼ˆforceï¼Œreleaseï¼‰</p>
<h3 id="3-2-5-æ¡ä»¶åˆ†æ”¯è¯­å¥"><a href="#3-2-5-æ¡ä»¶åˆ†æ”¯è¯­å¥" class="headerlink" title="3.2.5 æ¡ä»¶åˆ†æ”¯è¯­å¥"></a>3.2.5 æ¡ä»¶åˆ†æ”¯è¯­å¥</h3><p>Verilog HDLçš„æ¡ä»¶åˆ†æ”¯è¯­å¥æœ‰ä¸¤ç§ï¼ŒIfæ¡ä»¶è¯­å¥å’Œcaseæ¡ä»¶åˆ†æ”¯è¯­å¥</p>
<ol>
<li>if - else</li>
<li>case  æ¡ä»¶åˆ†æ”¯ã€‚<br>å®¹æ˜“å®ç°å¤šè·¯åˆ†æ”¯é€‰æ‹©æ§åˆ¶çš„è¯­å¥ï¼Œæ›´åŠ ç›´è§‚å’Œæ–¹ä¾¿ã€‚</li>
</ol>
<pre><code>    case
    0 : 
    1 :
    ...: // ç©·å°½æ¯ä¸€ç§æƒ…å†µ
    default: 
    endcase
</code></pre>
<p><img src="https://github.com/XuLixing/blog_images/blob/main/Verilog_Learning/Verilog_chapter_3/images_3/3.%E6%95%B0%E7%A0%81%E7%AE%A1%E8%AF%91%E7%A0%81.png" alt="Figure 4.æ•°ç ç®¡è¯‘ç "></p>
<p>Note : ä½¿ç”¨caseè¯­å¥æ—¶ï¼Œcaseåº”è¯¥åŒ…å«æ‰€æœ‰çš„çŠ¶æ€ï¼Œå¦‚æœæ²¡æœ‰åŒ…å«å…¨ï¼Œåˆ™ç¼ºå°‘é¡¹å›äº§ç”Ÿé”å­˜å™¨ï¼ï¼ï¼ è¿™æ˜¯ä¸å…è®¸çš„åœ¨åŒæ­¥æ—¶è®¸ç”µè·¯è®¾è®¡ä¸­ã€‚</p>
<h3 id="3-2-6-å¾ªç¯è¯­å¥"><a href="#3-2-6-å¾ªç¯è¯­å¥" class="headerlink" title="3.2.6 å¾ªç¯è¯­å¥"></a>3.2.6 å¾ªç¯è¯­å¥</h3><ol>
<li><p>forever<br>æ°¸ä¹…å¾ªç¯ã€‚åœ¨æ°¸ä¹…å¾ªç¯å†…ä¸åŒ…å«ä»»ä½•æ¡ä»¶è¡¨è¾¾å¼ï¼Œåªæ‰§è¡Œæ— é™çš„å¾ªç¯ï¼ŒæŒ‡å¯¼é‡åˆ°ç³»ç»Ÿä»»åŠ¡Â¥finishä¸ºæ­¢ã€‚å¦‚æœéœ€è¦ä»foreverå¾ªç¯æ±‡æ€»æ¨å‡ºï¼Œåˆ™å¯ä»¥ä½¿ç”¨disableè¯­å¥ã€‚<br><img src="https://github.com/XuLixing/blog_images/raw/main/Verilog_Learning/Verilog_chapter_3/images_3/3.forever.png" alt="Figure 4.forever"></p>
</li>
<li><p>repeat<br>æ‰€å¼•å¯¼çš„å¾ªç¯è¯­å¥æ‰§è¡Œå›ºå®šæ¬¡æ•°çš„å¾ªç¯ã€‚<br><img src="https://github.com/XuLixing/blog_images/raw/main/Verilog_Learning/Verilog_chapter_3/images_3/5.repeat.png" alt="Figure 5.repeat"></p>
</li>
<li><p>while<br>ä»…æœ‰åœ¨while ï¼ˆï¼‰ æ‹¬å·å†…è¡¨è¾¾å¼ä¸ºçœŸæ‰æ‰§è¡Œã€‚<br><img src="https://github.com/XuLixing/blog_images/raw/main/Verilog_Learning/Verilog_chapter_3/images_3/6.while.png" alt="Figure 6.while"></p>
</li>
<li><p>for<br><img src="https://github.com/XuLixing/blog_images/raw/main/Verilog_Learning/Verilog_chapter_3/images_3/7.for.png" alt="Figure 7.for"></p>
</li>
</ol>
<h3 id="3-3-ç»“æ„åŒ–å»ºæ¨¡"><a href="#3-3-ç»“æ„åŒ–å»ºæ¨¡" class="headerlink" title="3.3 ç»“æ„åŒ–å»ºæ¨¡"></a>3.3 ç»“æ„åŒ–å»ºæ¨¡</h3><h4 id="3-3-1-æ¨¡å—çº§å»ºæ¨¡"><a href="#3-3-1-æ¨¡å—çº§å»ºæ¨¡" class="headerlink" title="3.3.1 æ¨¡å—çº§å»ºæ¨¡"></a>3.3.1 æ¨¡å—çº§å»ºæ¨¡</h4><ol>
<li><p>æ¨¡å—è°ƒç”¨æ–¹å¼<br>åœ¨Verilog HDLä¸­ï¼Œæ¨¡å—å¯ä»¥è¢«ä»»ä½•æ¨¡å—è°ƒç”¨ï¼Œè¿™ç§è°ƒç”¨å®é™…ä¸Šæ˜¯å°†æ¨¡å—æ‰€æè¿°çš„ç”µè·¯å¤åˆ¶å¹¶è¿æ¥ã€‚æ¨¡å—è°ƒç”¨çš„åŸºæœ¬è¯­æ³•æ ¼å¼æ˜¯ï¼š<br>æ¨¡å—å &lt;å‚æ•°å€¼åˆ—è¡¨&gt; å®ä¾‹å ï¼ˆç«¯å£ååˆ—è¡¨ï¼‰ï¼š<br><img src="https://github.com/XuLixing/blog_images/raw/main/Verilog_Learning/Verilog_chapter_3/images_3/8.%E7%BB%93%E6%9E%84%E5%8C%96.png" alt="Figure 8.å®ä¾‹åŒ–"></p>
<p> Noteï¼š</p>
<p> A. åœ¨åŒä¸€ä¸ªæ¨¡å—ä¸­å½“å‰æ¨¡å—è¢«è°ƒç”¨äº†å‡ æ¬¡ï¼Œåˆ™éœ€è¦ç”¨ä¸åŒçš„å®ä¾‹ååŠ ä»¥æ ‡æ˜ã€‚</p>
<p> B. å½“éœ€è¦å¤šæ¬¡è°ƒç”¨ï¼Œå¯ä»¥é‡‡ç”¨ é˜µåˆ—è°ƒç”¨çš„æ–¹å¼å¯¹æ¨¡å—è¿›è¡Œè°ƒç”¨ã€‚<br> ï¼ˆä¸‹é¢ä¾‹å­æ˜¯å¯¹åº”ä½ç›¸ä¸ï¼‰</p>
</li>
</ol>
<p> <img src="https://github.com/XuLixing/blog_images/raw/main/Verilog_Learning/Verilog_chapter_3/images_3/9.%E7%BB%93%E6%9E%84%E5%8C%96.png" alt="Figure 9.å¤šæ¬¡å®ä¾‹åŒ–"></p>
<ol start="2">
<li>æ¨¡å—ç«¯å£å¯¹åº”æ–¹å¼</li>
</ol>
<ul>
<li>ç«¯å£ä½ç½®å¯¹åº”æ–¹å¼ï¼šè°ƒç”¨æ—¶ï¼Œç«¯å£ä¸€å®šè¦ä¸¥æ ¼æŒ‰ç…§ç«¯å£å®šä¹‰é¡ºåºã€‚</li>
<li>ç«¯å£åå¯¹åº”æ–¹å¼ï¼š</li>
</ul>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/Verilog_Learning/Verilog_chapter_3/images_3/10.%20%E7%BB%93%E6%9E%84%E5%8C%96.png" alt="Figure 10.ç«¯å£å¯¹åº”æ–¹å¼"></p>
<pre><code> .clk(clock), ï¼ˆï¼‰å†…æ˜¯æ¨¡å—å®šä¹‰çš„å˜é‡ï¼Œclkæ˜¯è°ƒç”¨æ¨¡å—çš„å˜é‡ã€‚
</code></pre>
<ul>
<li>ä¸åŒç«¯å£ä½å®½çš„åŒ¹é…ï¼šä»ä½ä½å¼€å§‹å–ã€‚</li>
</ul>
<ol start="3">
<li> æ¨¡å—å‚è€ƒå€¼<br>æœ‰ä¸¤ç§é€”å¾„å¯ä»¥æ”¹å˜æ¨¡å—å®ä¾‹çš„å‚è€ƒå€¼ï¼Œåˆ†åˆ«æ˜¯ä½¿ç”¨å¸¦æœ‰å‚æ•°çš„æ¨¡å—å®ä¾‹è¯­å¥ä¿®æ”¹å‚æ•°å€¼å’Œä½¿ç”¨å®šä¹‰å‚æ•°è¯­å¥ï¼ˆdefparamï¼‰</li>
</ol>
<p>3.3.2 é—¨çº§å»ºæ¨¡</p>
<p>3.3.3 å¼€å…³çº§å»ºæ¨¡</p>
]]></content>
      <categories>
        <category>verilog</category>
      </categories>
      <tags>
        <tag>verilog</tag>
      </tags>
  </entry>
  <entry>
    <title>ASIC Design Flow è®¾è®¡æµç¨‹</title>
    <url>/2021/03/29/ASIC/ASIC_design_flow/</url>
    <content><![CDATA[<p>An ASIC (application-specific integrated circuit) is an IC customized for a particular use, rather than intended for general-purpose use</p>
<h2 id="0-ASIC-Overview"><a href="#0-ASIC-Overview" class="headerlink" title="0.ASIC Overview:"></a>0.ASIC Overview:</h2><h3 id="0-1-æ¦‚å†µ"><a href="#0-1-æ¦‚å†µ" class="headerlink" title="0.1 æ¦‚å†µ"></a>0.1 æ¦‚å†µ</h3><p>èŠ¯ç‰‡ç»“æ„åŸºäºåŸºæœ¬å•å…ƒï¼ŒèŠ¯ç‰‡å†…éƒ¨ç½‘ç»œç½‘æ ¼åŒ–ï¼Œç­‰é«˜å•å…ƒåœ¨èŠ¯ç‰‡å†…éƒ¨æ•´é½æ’åˆ—</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/VLSI_Design/1.VLSI_design_flow/images/1.VLSI_overviwe.png" alt="Figure 1.ASICæ¦‚å†µ"></p>
<h3 id="0-2-æ ‡å‡†å•å…ƒåº“ï¼š"><a href="#0-2-æ ‡å‡†å•å…ƒåº“ï¼š" class="headerlink" title="0.2 æ ‡å‡†å•å…ƒåº“ï¼š"></a>0.2 æ ‡å‡†å•å…ƒåº“ï¼š</h3><ul>
<li>é¢„å…ˆè®¾è®¡å¥½çš„å•å…ƒç»„æˆè®¾è®¡åº“</li>
<li>ç»¼åˆå·¥å…·è‡ªåŠ¨é€‰å–å•å…ƒæ„å»ºç”µè·¯å®ç°é€»è¾‘ â€”â€”â€” link2ç»¼åˆåŸç†</li>
</ul>
<h3 id="0-3-ASICçš„ä¼˜åŠ¿ï¼š"><a href="#0-3-ASICçš„ä¼˜åŠ¿ï¼š" class="headerlink" title="0.3 ASICçš„ä¼˜åŠ¿ï¼š"></a>0.3 ASICçš„ä¼˜åŠ¿ï¼š</h3><p>ç›¸æ¯”äºFPGAï¼šå¹³å‡è€Œè¨€ï¼Œç›¸åŒåŠŸèƒ½çš„ç”µè·¯ï¼Œ FPGAèŠ¯ç‰‡æ‰€éœ€çš„ç¡…ç‰‡é¢ç§¯æ˜¯ASICçš„35å€ã€‚ FPFAèŠ¯ç‰‡çš„å…³é”®è·¯å¾„å»¶æ—¶æ˜¯ASICçš„3.5å€ã€‚ FPGAèŠ¯ç‰‡çš„åŠ¨æ€åŠŸè€—æ˜¯ASICçš„14å€ã€‚</p>
<h3 id="0-4-ç”µè·¯æè¿°ä¸è®¾è®¡è¿‡ç¨‹ï¼š"><a href="#0-4-ç”µè·¯æè¿°ä¸è®¾è®¡è¿‡ç¨‹ï¼š" class="headerlink" title="0.4 ç”µè·¯æè¿°ä¸è®¾è®¡è¿‡ç¨‹ï¼š"></a>0.4 ç”µè·¯æè¿°ä¸è®¾è®¡è¿‡ç¨‹ï¼š</h3><p><img src="https://github.com/XuLixing/blog_images/raw/main/VLSI_Design/1.VLSI_design_flow/images/2.%E7%94%B5%E8%B7%AF%E6%8F%8F%E8%BF%B0%E6%96%B9%E5%BC%8F.png" alt="Figure 2.ä¸åŒå±‚æ¬¡æè¿°"></p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/VLSI_Design/1.VLSI_design_flow/images/3.%E7%94%B5%E8%B7%AF%E6%8F%8F%E8%BF%B0%E6%8A%BD%E8%B1%A1.png" alt="Figure 3.å‰æ®µ/åç«¯"></p>
<h2 id="1-ASICè®¾è®¡æµç¨‹"><a href="#1-ASICè®¾è®¡æµç¨‹" class="headerlink" title="1. ASICè®¾è®¡æµç¨‹"></a>1. ASICè®¾è®¡æµç¨‹</h2><h3 id="1-1-ç¡®å®šä½“ç³»ç»“æ„ï¼š"><a href="#1-1-ç¡®å®šä½“ç³»ç»“æ„ï¼š" class="headerlink" title="1.1 ç¡®å®šä½“ç³»ç»“æ„ï¼š"></a>1.1 ç¡®å®šä½“ç³»ç»“æ„ï¼š</h3><blockquote>
<p>å¯„å­˜å™¨ç»„æœ‰å¤šå°‘ç»„ï¼Œæ•°é‡å¤šå°‘</p>
</blockquote>
<blockquote>
<p>æŒ‡ä»¤é›†ï¼šåŸºæœ¬æŒ‡ä»¤ä»¥åŠæŒ‡ä»¤ç¼–ç </p>
</blockquote>
<h3 id="1-2-ä½“ç³»å¾®æ¶æ„ï¼š"><a href="#1-2-ä½“ç³»å¾®æ¶æ„ï¼š" class="headerlink" title="1.2 ä½“ç³»å¾®æ¶æ„ï¼š"></a>1.2 ä½“ç³»å¾®æ¶æ„ï¼š</h3><blockquote>
<p>A. å¤šå‘¨æœŸæµæ°´çº¿ç»“æ„æ¡†å›¾</p>
</blockquote>
<blockquote>
<p>B. æ§åˆ¶ä¿¡å·é€»è¾‘ï¼Œæ§åˆ¶çŠ¶æ€æœºï¼ŒçŠ¶æ€è½¬ç§»å›¾</p>
</blockquote>
<h3 id="1-3-é€»è¾‘è®¾è®¡ï¼š"><a href="#1-3-é€»è¾‘è®¾è®¡ï¼š" class="headerlink" title="1.3 é€»è¾‘è®¾è®¡ï¼š"></a>1.3 é€»è¾‘è®¾è®¡ï¼š</h3><blockquote>
<p>A. é¡¶å±‚æ¥å£ï¼šå¼•è„šæ•°é‡ï¼Œåç§°å®šä¹‰</p>
</blockquote>
<blockquote>
<p>B. ç¡®å®šè®¾è®¡å±‚æ¬¡ï¼šæ§åˆ¶é€šè·¯å’Œæ•°æ®é€šè·¯ç¡®å®šï¼Œç”µè·¯ç»„ï¼Œæ ‡å‡†å•å…ƒåº“ç­‰ç­‰</p>
</blockquote>
<blockquote>
<p>C. å»ºç«‹ç”µè·¯æ–‡æ¡£ï¼ŒåŒ…å«è¡Œä¸ºçº§ä¿¡æ¯ã€‚ä½¿ç”¨ç¡¬ä»¶æè¿°è¯­è¨€æè¿°ç”µè·¯ï¼Œå¹¶ç»¼åˆç”Ÿæˆé€»è¾‘ç½‘è¡¨</p>
</blockquote>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/VLSI_Design/1.VLSI_design_flow/images/4.%20%E9%80%BB%E8%BE%91%E8%AE%BE%E8%AE%A1.png" alt="Figure 4.æ§åˆ¶&amp;æ•°æ®é€šè·¯"></p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/VLSI_Design/1.VLSI_design_flow/images/5.%20%E8%AE%BE%E8%AE%A1%E5%B1%82%E6%AC%A1.png" alt="Figure 5.ç¡¬ä»¶çš„å±‚æ¬¡åŒ–æè¿°"></p>
<h3 id="1-4-ç‰©ç†è®¾è®¡ï¼š"><a href="#1-4-ç‰©ç†è®¾è®¡ï¼š" class="headerlink" title="1.4 ç‰©ç†è®¾è®¡ï¼š"></a>1.4 ç‰©ç†è®¾è®¡ï¼š</h3><blockquote>
<p>Aï¼šå¯¼å…¥æ ‡å‡†å•å…ƒåº“ï¼ˆç­‰é«˜ï¼‰</p>
<p>Bï¼šFloorplan å¹³é¢è§„åˆ’</p>
<p>Cï¼šå¼•è„šå¸ƒå±€</p>
</blockquote>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/VLSI_Design/1.VLSI_design_flow/images/6.%E7%89%A9%E7%90%86%E8%AE%BE%E8%AE%A1.png" alt="Figure 6.ç‰©ç†è®¾è®¡"></p>
<h3 id="1-5-è®¾è®¡éªŒè¯ï¼š"><a href="#1-5-è®¾è®¡éªŒè¯ï¼š" class="headerlink" title="1.5 è®¾è®¡éªŒè¯ï¼š"></a>1.5 è®¾è®¡éªŒè¯ï¼š</h3><blockquote>
<p>ç¡®ä¿åŠŸèƒ½æ­£ç¡®</p>
</blockquote>
<blockquote>
<p>ç¡®ä¿æ—¶é’Ÿé¢‘ç‡æ»¡è¶³è¦æ±‚</p>
</blockquote>
<blockquote>
<p>ç¡®ä¿åŠŸè€—å’Œé¢ç§¯æ»¡è¶³è¦æ±‚</p>
</blockquote>
<blockquote>
<p>ç¡®ä¿æµç‰‡æˆåŠŸ</p>
</blockquote>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/VLSI_Design/1.VLSI_design_flow/images/7.%E8%AE%BE%E8%AE%A1%E9%AA%8C%E8%AF%81.png" alt="Figure 7.è®¾è®¡è¿‡ç¨‹"></p>
<h3 id="1-6-æµç‰‡-ï¼ˆtape-outï¼‰"><a href="#1-6-æµç‰‡-ï¼ˆtape-outï¼‰" class="headerlink" title="1.6 æµç‰‡ ï¼ˆtape outï¼‰"></a>1.6 æµç‰‡ ï¼ˆtape outï¼‰</h3><p><img src="https://github.com/XuLixing/blog_images/raw/main/VLSI_Design/1.VLSI_design_flow/images/11.%E6%B5%81%E7%89%87.png" alt="Figure 8.MPW æœåŠ¡"></p>
<h3 id="1-7-å°è£…ï¼ˆæ—¥æœˆå…‰ï¼‰"><a href="#1-7-å°è£…ï¼ˆæ—¥æœˆå…‰ï¼‰" class="headerlink" title="1.7 å°è£…ï¼ˆæ—¥æœˆå…‰ï¼‰"></a>1.7 å°è£…ï¼ˆæ—¥æœˆå…‰ï¼‰</h3><p>å°è£…æœ‰å¤šç§ç±»å‹ã€‚å¼•è„šæ•°é‡ï¼Œå°è£…ææ–™ï¼Œå°è£…æ–¹å¼ä¸åŒã€‚</p>
<h3 id="1-9-æµ‹è¯•ï¼ˆåå¤©ï¼‰"><a href="#1-9-æµ‹è¯•ï¼ˆåå¤©ï¼‰" class="headerlink" title="1.9 æµ‹è¯•ï¼ˆåå¤©ï¼‰"></a>1.9 æµ‹è¯•ï¼ˆåå¤©ï¼‰</h3><h2 id="2-ASICè®¾è®¡è¿‡ç¨‹åŠå…¶å·¥å…·"><a href="#2-ASICè®¾è®¡è¿‡ç¨‹åŠå…¶å·¥å…·" class="headerlink" title="2 ASICè®¾è®¡è¿‡ç¨‹åŠå…¶å·¥å…·"></a>2 ASICè®¾è®¡è¿‡ç¨‹åŠå…¶å·¥å…·</h2><h3 id="2-1-æ•°å­—ASICè®¾è®¡å¯åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œå‡åŒ…å«è®¾è®¡ä¸éªŒè¯ã€‚"><a href="#2-1-æ•°å­—ASICè®¾è®¡å¯åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œå‡åŒ…å«è®¾è®¡ä¸éªŒè¯ã€‚" class="headerlink" title="2.1 æ•°å­—ASICè®¾è®¡å¯åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œå‡åŒ…å«è®¾è®¡ä¸éªŒè¯ã€‚"></a>2.1 æ•°å­—ASICè®¾è®¡å¯åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œå‡åŒ…å«è®¾è®¡ä¸éªŒè¯ã€‚</h3><p><img src="https://github.com/XuLixing/blog_images/raw/main/VLSI_Design/1.VLSI_design_flow/images/8.ASIC%E8%AE%BE%E8%AE%A1%E6%B5%81%E7%A8%8B.png" alt="Figure 9.ASICç²—ç•¥å¯åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µ"></p>
<h3 id="2-2-åŸºäºSynosyså¹³å°å„é¡¹å·¥å…·åŠå…¶åŠŸèƒ½ï¼š"><a href="#2-2-åŸºäºSynosyså¹³å°å„é¡¹å·¥å…·åŠå…¶åŠŸèƒ½ï¼š" class="headerlink" title="2.2 åŸºäºSynosyså¹³å°å„é¡¹å·¥å…·åŠå…¶åŠŸèƒ½ï¼š"></a>2.2 åŸºäºSynosyså¹³å°å„é¡¹å·¥å…·åŠå…¶åŠŸèƒ½ï¼š</h3><p><img src="https://github.com/XuLixing/blog_images/raw/main/VLSI_Design/1.VLSI_design_flow/images/9.ASIC%E5%B7%A5%E5%85%B7.png" alt="Figure 10.ASICè®¾è®¡å·¥å…·"></p>
<p>è®¾è®¡è¿‡ç¨‹ä¸­ï¼šRTLä»£ç æ˜¯é€šç”¨ä»£ç ï¼Œä½†æ˜¯é—¨çº§ç½‘è¡¨å’Œç‰ˆå›¾å¿…é¡»æ˜¯ç¡®å®šå·¥è‰ºçš„ç½‘è¡¨å’Œç‰ˆå›¾ã€‚å·¥è‰ºå¯¹èŠ¯ç‰‡çš„é€Ÿåº¦ã€é¢ç§¯å’ŒåŠŸè€—æœ‰å†³å®šæ€§çš„ä½œç”¨ã€‚</p>
<p><img src="https://github.com/XuLixing/blog_images/raw/main/VLSI_Design/1.VLSI_design_flow/images/10.%E5%B7%A5%E8%89%BA%E7%BD%91%E8%A1%A8%E5%92%8C%E7%89%88%E5%9B%BE.png" alt="Figure 11.é€»è¾‘/ç‰©ç†ç»¼åˆçš„åŸç†"></p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<h2 id="3-Appendix"><a href="#3-Appendix" class="headerlink" title="3 Appendix"></a>3 Appendix</h2><p>Detailed Design Flowï¼š(Based on Synopsys)</p>
<ol>
<li>å°†å·²ç»åœ¨ FPGA ä¸ŠéªŒè¯è¿‡çš„ä»£ç (Verilog)ä¿®æ”¹ä¸ºä¸ä¾èµ–äº FPGA èµ„æº çš„ RTL ä»£ç ã€‚</li>
<li>ä½¿ç”¨ VCS å¯¹ RTL ä»£ç è¿›è¡Œè¾“å…¥è¾“å‡ºå…³ç³»ä»¿çœŸï¼Œè¿›è¡ŒåŠŸèƒ½éªŒè¯ã€‚</li>
<li>ä½¿ç”¨ Design Compiler(DC)å¯¹ RTL ä»£ç è¿›è¡Œé€»è¾‘ç»¼åˆï¼Œè·å¾— DC ç½‘<br>è¡¨ã€‚</li>
<li>ä½¿ç”¨ Formality å¯¹ RTL ä»£ç å’Œ DC ç½‘è¡¨è¿›è¡Œå½¢å¼éªŒè¯ï¼ŒéªŒè¯ä¸¤è€…çš„ç»“æ„ ä¸€è‡´æ€§ã€‚</li>
<li>ä½¿ç”¨ VCS å¯¹ DC ç½‘è¡¨è¿›è¡Œè¾“å…¥è¾“å‡ºå…³ç³»ä»¿çœŸï¼Œå¯¹æ¯” RTL ä»¿çœŸçš„ç»“æœï¼Œ éªŒè¯ä¸¤è€…çš„åŠŸèƒ½ä¸€è‡´æ€§ã€‚</li>
<li>ä½¿ç”¨ IC Compiler(ICC)å¯¹ DC ç½‘è¡¨è¿›è¡Œç‰©ç†ç»¼åˆï¼Œè·å¾— ICC ç½‘è¡¨å’Œ ç‰ˆå›¾ã€‚</li>
<li>ä½¿ç”¨ Calibre å¯¹ç‰ˆå›¾è¿›è¡Œè®¾è®¡å¤©çº¿è§„åˆ™æ£€æŸ¥ï¼Œè§„åˆ™æ£€æŸ¥(DRC)å’ŒåŸç† å›¾ç‰ˆå›¾ä¸€è‡´æ€§æ£€æŸ¥(LVS)ã€‚</li>
<li>ä½¿ç”¨ Formality å¯¹ DC ç½‘è¡¨å’Œ ICC ç½‘è¡¨è¿›è¡Œå½¢å¼éªŒè¯ï¼ŒéªŒè¯ä¸¤è€…çš„ç»“æ„ ä¸€è‡´æ€§ã€‚</li>
<li>ä½¿ç”¨ StarRC å¯¹ç‰ˆå›¾è¿›è¡Œç”µå®¹ç”µé˜»å‚æ•°æå–ï¼Œè·å¾— RC å‚æ•°ï¼Œè¿›ä¸€æ­¥è· å¾—å„ç½‘çº¿çš„å»¶è¿Ÿä¿¡æ¯ã€‚æ­¤å°†æ­¤å»¶è¿Ÿä¿¡æ¯å¹¶åæ ‡è‡³ ICC ç½‘è¡¨ã€‚</li>
<li>ä½¿ç”¨ PrimeTime å¯¹åæ ‡åçš„ ICC ç½‘è¡¨è¿›è¡Œæ—¶åºåˆ†æï¼Œå¹¶å¯¼å‡º sdf å»¶æ—¶æ–‡ ä»¶ç”¨äº VCS åä»¿ã€‚</li>
<li>ä½¿ç”¨ VCS å¯¹åæ ‡åçš„ ICC ç½‘è¡¨è¿›è¡Œè¾“å…¥è¾“å‡ºå…³ç³»ä»¿çœŸï¼Œå¯¹æ¯” RTL ä»¿çœŸ çš„ç»“æœï¼ŒéªŒè¯ä¸¤è€…çš„åŠŸèƒ½ä¸€è‡´æ€§ã€‚</li>
<li>è·å¾— GDSII æ–‡æ¡£ã€‚</li>
</ol>
]]></content>
      <categories>
        <category>ASIC_Design</category>
      </categories>
      <tags>
        <tag>ASIC design</tag>
      </tags>
  </entry>
</search>
